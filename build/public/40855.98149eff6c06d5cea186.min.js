"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[40855,12160,81018],{81018:(s,r,o)=>{var c,i;c=[o(7927),o(74344),o(93216)],i=function(u,d,l){const h={};h.init=function(){Promise.all([o.e(42441),o.e(61006),o.e(46862),o.e(54271)]).then(function(){var n=[o(30524)];(function(e){$('[component="chat/nav-wrapper"]').on("click",'[component="chat/recent/room"], [component="chat/public/room"]',function(t){t.stopPropagation(),t.preventDefault();const a=this.getAttribute("data-roomid");e.switchChat(a)}).on("click",".mark-read",function(t){t.stopPropagation();const a=this.closest("[data-roomid]");l.toggleReadState(a)}),$('[component="chat/recent"]').on("scroll",utils.debounce(function(){const t=$(this),a=(t[0].scrollHeight-t.height())*.9;t.scrollTop()>a&&f()},100))}).apply(null,n)}).catch(o.oe)};function f(){const n=$('[component="chat/recent"]');n.attr("loading")||(n.attr("loading",1),socket.emit("modules.chats.getRecentChats",{uid:ajaxify.data.uid,after:n.attr("data-nextstart")},function(e,t){if(e)return u.error(e);t&&t.rooms.length?g(t,function(){n.removeAttr("loading"),n.attr("data-nextstart",t.nextStart)}):n.removeAttr("loading")}))}function g(n,e){if(!n.rooms.length)return e();n.loadingMore=!0,app.parseAndTranslate("chats","rooms",n,function(t){$('[component="chat/recent"]').append(t),t.find(".timeago").timeago(),e()})}return h}.apply(r,c),i!==void 0&&(s.exports=i)},75203:(s,r,o)=>{var c;c=function(){const i={};return i.apply=function(u){$(u).on("mousewheel",function(d){const l=this.scrollTop,h=this.scrollHeight,f=Math.round(this.getBoundingClientRect().height);if(d.originalEvent.deltaY<0&&l===0||d.originalEvent.deltaY>0&&f+l>=h)return!1})},i}.call(r,o,r,s),c!==void 0&&(s.exports=c)}}]);
