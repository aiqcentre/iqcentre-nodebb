(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[68039,70565,83014,99617,37986,588,62735,10882,43034,79191,3564,74344],{74344:(E,w,d)=>{"use strict";d.r(w),d.d(w,{del:()=>a,get:()=>i,head:()=>s,patch:()=>e,post:()=>u,put:()=>r});var g=d(85233),h=d.n(g),v=d(63281),c=d.n(v);const n=config.relative_path+"/api/v3";function o(t,f){if(t.url=t.url.startsWith("/api")?config.relative_path+t.url:n+t.url,typeof f=="function"){l(t,f);return}return new Promise((m,b)=>{l(t,function(S,k){if(S)return S.message==="A valid login session was not found. Please log in and try again."?(0,v.confirm)("[[error:api.reauth-required]]",p=>{p&&ajaxify.go("login")}):b(S);m(k)})})}async function l(t,f){const{url:m}=t;delete t.url,t.data&&!(t.data instanceof FormData)&&(t.data=JSON.stringify(t.data||{}),t.headers["content-type"]="application/json; charset=utf-8"),{options:t}=await(0,g.fire)("filter:api.options",{options:t}),t.data&&(t.body=t.data,delete t.data);const b=await fetch(m,t),{headers:S}=b,k=S.get("content-type"),p=k&&k.startsWith("application/json");let x;if(p?x=await b.json():x=await b.text(),!b.ok)return f(new Error(p?x.status.message:x));f(null,p&&x.hasOwnProperty("status")&&x.hasOwnProperty("response")?x.response:x)}function i(t,f,m){return o({url:t+(f&&Object.keys(f).length?"?"+$.param(f):"")},m)}function s(t,f,m){return o({url:t+(f&&Object.keys(f).length?"?"+$.param(f):""),method:"head"},m)}function u(t,f,m){return o({url:t,method:"post",data:f,headers:{"x-csrf-token":config.csrf_token}},m)}function e(t,f,m){return o({url:t,method:"patch",data:f,headers:{"x-csrf-token":config.csrf_token}},m)}function r(t,f,m){return o({url:t,method:"put",data:f,headers:{"x-csrf-token":config.csrf_token}},m)}function a(t,f,m){return o({url:t,method:"delete",data:f,headers:{"x-csrf-token":config.csrf_token}},m)}},99398:(E,w,d)=>{E.exports=d(18196)},45482:(E,w,d)=>{E.exports=d(35729)},83713:(E,w,d)=>{E.exports=d(51077)},38259:(E,w,d)=>{E.exports=d(65616)},27145:(E,w,d)=>{"use strict";E=d.nmd(E);var g,h;g=[d(32230),d(85233)],h=function(v,c){const n={};let o=!1;n.init=function(){if(n.taskbar=$('[component="taskbar"]'),n.tasklist=n.taskbar.find("ul"),!n.taskbar.length||!n.tasklist.length){o=!0;return}n.taskbar.on("click","li",async function(){const e=$(this),r=e.attr("data-module"),a=e.attr("data-uuid"),t=await app.require(r);return e.hasClass("active")?t.minimize(a):(i(),t.load(a),n.toggleNew(a,!1),n.tasklist.removeClass("active"),e.addClass("active")),!1}),$(window).on("action:app.loggedOut",function(){n.closeAll()})},n.close=async function(e,r){if(o)return;if(n.tasklist.find('[data-module="'+E+'"][data-uuid="'+r+'"]').length){const t=await app.require(e);t&&typeof t.close=="function"&&t.close(r)}},n.closeAll=function(e){if(o)return;let r="[data-uuid]";e&&(r='[data-module="'+e+'"]'+r),n.tasklist.find(r).each(function(a,t){n.close(e||t.getAttribute("data-module"),t.getAttribute("data-uuid"))})},n.discard=function(e,r){if(o)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+r+'"]').remove(),l()},n.push=function(e,r,a,t){if(t=t||function(){},o)return t();const f=n.tasklist.find('li[data-uuid="'+r+'"]'),m={module:e,uuid:r,options:a,element:f};c.fire("filter:taskbar.push",m),!f.length&&m.module?s(m,t):t(f)},n.get=function(e){return o?[]:$('[data-module="'+e+'"]').map(function(a,t){return $(t).data()})},n.minimize=function(e,r){if(o)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+r+'"]').toggleClass("active",!1)},n.toggleNew=function(e,r,a){if(o)return;n.tasklist.find('[data-uuid="'+e+'"]').toggleClass("new",r),a||c.fire("action:taskbar.toggleNew",e)},n.updateActive=function(e){if(o)return;const r=n.tasklist.find("li");r.removeClass("active"),r.filter('[data-uuid="'+e+'"]').addClass("active"),$("[data-uuid]:not([data-module])").toggleClass("modal-unfocused",!0),$('[data-uuid="'+e+'"]:not([data-module])').toggleClass("modal-unfocused",!1)},n.isActive=function(e){return o?!1:n.tasklist.find('li[data-uuid="'+e+'"]').hasClass("active")};function l(){if(o)return;n.tasklist.find("li").length>0?n.taskbar.attr("data-active","1"):n.taskbar.removeAttr("data-active")}function i(){o||n.tasklist.find(".active").removeClass("active")}function s(e,r){if(o)return r();v.translate(e.options.title,function(a){const t=$("<div></div>").text(a||"NodeBB Task").html(),f=$("<li></li>").addClass(e.options.className).html('<a href="#"'+(e.options.image?` style="background-image: url('`+e.options.image.replace(/&#x2F;/g,"/")+`'); background-size: cover;"`:"")+">"+(e.options.icon?'<i class="fa '+e.options.icon+'"></i> ':"")+'<span aria-label="'+t+'" component="taskbar/title">'+t+"</span></a>").attr({title:t,"data-module":e.module,"data-uuid":e.uuid}).addClass(e.options.state!==void 0?e.options.state:"active");(!e.options.state||e.options.state==="active")&&i(),n.tasklist.append(f),l(),e.element=f,f.data(e),c.fire("action:taskbar.pushed",e),r(f)})}const u=function(e,r,a){switch(r){case"title":e.find('[component="taskbar/title"]').text(a);break;case"icon":e.find("i").attr("class","fa fa-"+a);break;case"image":e.find("a").css("background-image",a?'url("'+a.replace(/&#x2F;/g,"/")+'")':"");break;case"background-color":e.find("a").css("background-color",a);break;case"color":e.find("a").css("color",a);break}};return n.update=function(e,r,a){if(o)return;const t=n.tasklist.find('[data-module="'+e+'"][data-uuid="'+r+'"]');if(!t.length)return;const f=t.data();Object.keys(a).forEach(function(m){f[m]=a[m],u(t,m,a[m])}),t.data(f)},n}.apply(w,g),h!==void 0&&(E.exports=h)},62023:(E,w,d)=>{"use strict";var g,h;g=[d(74344),d(63281),d(7927),d(50431),d(59006),d(32230),d(62526)],h=function(v,c,n,o,l,i){const s={};return s.get=u=>v.get(`/topics/${u}/thumbs`,{}),s.getByPid=u=>v.get(`/posts/${u}`,{}).then(e=>s.get(e.tid)),s.delete=(u,e)=>v.del(`/topics/${u}/thumbs`,{path:e}),s.deleteAll=u=>{s.get(u).then(e=>{Promise.all(e.map(r=>s.delete(u,r.url)))})},s.upload=u=>new Promise(e=>{o.show({title:"[[topic:composer.thumb_title]]",method:"put",route:config.relative_path+`/api/v3/topics/${u}/thumbs`},function(r){e(r)})}),s.modal={},s.modal.open=function(u){const{id:e,pid:r}=u;let{modal:a}=u,t;return new Promise(f=>{Promise.all([s.get(e),r?s.getByPid(r):[]]).then(m=>new Promise(b=>{const S=m.reduce((k,p)=>k.concat(p));t=S.length,b(S)})).then(m=>l.render("modals/topic-thumbs",{thumbs:m})).then(m=>{a?i.translate(m,function(b){a.find(".bootbox-body").html(b),s.modal.handleSort({modal:a,numThumbs:t})}):(a=c.dialog({title:"[[modules:thumbs.modal.title]]",message:m,onEscape:!0,backdrop:!0,buttons:{add:{label:'<i class="fa fa-plus"></i> [[modules:thumbs.modal.add]]',className:"btn-success",callback:()=>(s.upload(e).then(()=>{s.modal.open({...u,modal:a}),Promise.all([d.e(61006),d.e(42265),d.e(49915),d.e(8311)]).then(function(){var b=[d(44541)];(S=>{S.updateThumbCount(e,$(`[component="composer"][data-uuid="${e}"]`)),f()}).apply(null,b)}).catch(d.oe)}),!1)},close:{label:"[[global:close]]",className:"btn-primary"}}}),s.modal.handleDelete({...u,modal:a}),s.modal.handleSort({modal:a,numThumbs:t}))})})},s.modal.handleDelete=u=>{u.modal.get(0).addEventListener("click",r=>{r.target.closest('button[data-action="remove"]')&&c.confirm("[[modules:thumbs.modal.confirm-remove]]",a=>{if(!a)return;const t=r.target.closest("[data-id]").getAttribute("data-id"),f=r.target.closest("[data-path]").getAttribute("data-path");v.del(`/topics/${t}/thumbs`,{path:f}).then(()=>{s.modal.open(u)}).catch(n.error)})})},s.modal.handleSort=({modal:u,numThumbs:e})=>{if(e>1){const r=u.find(".topic-thumbs-modal");r.sortable({items:"[data-id]"}),r.on("sortupdate",s.modal.handleSortChange)}},s.modal.handleSortChange=(u,e)=>{const r=e.item.get(0).parentNode.querySelectorAll("[data-id]");Array.from(r).forEach((a,t)=>{const f=a.getAttribute("data-id");let m=a.getAttribute("data-path");m=m.replace(new RegExp(`^${config.upload_url}`),""),v.put(`/topics/${f}/thumbs/order`,{path:m,order:t}).catch(n.error)})},s}.apply(w,g),h!==void 0&&(E.exports=h)},50431:(E,w,d)=>{"use strict";var g,h;g=[d(86569)],h=function(){const v={};v.show=function(i,s){const u=i.hasOwnProperty("fileSize")&&i.fileSize!==void 0?parseInt(i.fileSize,10):!1;app.parseAndTranslate("modals/upload-file",{showHelp:i.hasOwnProperty("showHelp")&&i.showHelp!==void 0?i.showHelp:!0,fileSize:u,title:i.title||"[[global:upload_file]]",description:i.description||"",button:i.button||"[[global:upload]]",accept:i.accept?i.accept.replace(/,/g,"&#44; "):""},function(e){e.modal("show"),e.on("hidden.bs.modal",function(){e.remove()});const r=e.find("#uploadForm");r.attr("action",i.route),r.find("#params").val(JSON.stringify(i.params)),e.find("#fileUploadSubmitBtn").on("click",function(){$(this).addClass("disabled"),r.submit()}),r.submit(function(){return c(e,u,s),!1})})},v.hideAlerts=function(i){$(i).find("#alert-status, #alert-success, #alert-error, #upload-progress-box").addClass("hide")};function c(i,s,u){n(i,"status","[[uploads:uploading-file]]"),i.find("#upload-progress-bar").css("width","0%"),i.find("#upload-progress-box").show().removeClass("hide");const e=i.find("#fileInput");if(!e.val())return n(i,"error","[[uploads:select-file-to-upload]]");if(!l(e[0],s))return n(i,"error","[[error:file-too-big, "+s+"]]");v.ajaxSubmit(i,u)}function n(i,s,u){v.hideAlerts(i),s==="error"&&i.find("#fileUploadSubmitBtn").removeClass("disabled"),u=u.replace(/&amp;#44/g,"&#44"),i.find("#alert-"+s).translateText(u).removeClass("hide")}v.ajaxSubmit=function(i,s){i.find("#uploadForm").ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},error:function(e){e=o(e),n(i,"error",e.responseJSON?.status?.message||e.responseJSON?.error||`[[error:upload-error-fallback, ${e.status} ${e.statusText}]]`)},uploadProgress:function(e,r,a,t){i.find("#upload-progress-bar").css("width",t+"%")},success:function(e){let r=o(e);e.hasOwnProperty("response")&&e.hasOwnProperty("status")&&e.status.code==="ok"&&(r=e.response.images),s(r[0].url),n(i,"success","[[uploads:upload-success]]"),setTimeout(function(){v.hideAlerts(i),i.modal("hide")},750)}})};function o(i){if(typeof i=="string")try{return JSON.parse(i)}catch{return{error:"[[error:parse-error]]"}}return i}function l(i,s){return window.FileReader&&s?i.files[0].size<=s*1e3:!0}return v}.apply(w,g),h!==void 0&&(E.exports=h)},18196:(E,w,d)=>{"use strict";var g,h;g=[d(83713)],h=function(v){var c={};return c.insertIntoTextarea=function(n,o){var l={context:this,textarea:n,value:o,preventDefault:!1};if($(window).trigger("action:composer.insertIntoTextarea",l),!l.preventDefault){var i=$(l.textarea),s=i.val(),u=i.parents('[component="composer"]');i.val(s.slice(0,l.textarea.selectionStart)+l.value+s.slice(l.textarea.selectionStart)),v.render(u)}},c.replaceSelectionInTextareaWith=function(n,o){var l={context:this,textarea:n,value:o,preventDefault:!1};if($(window).trigger("action:composer.replaceSelectionInTextareaWith",l),!l.preventDefault){var i=$(l.textarea),s=i.val(),u=i.parents('[component="composer"]');i.val(s.slice(0,l.textarea.selectionStart)+l.value+s.slice(l.textarea.selectionEnd)),v.render(u)}},c.wrapSelectionInTextareaWith=function(n,o,l){var i={context:this,textarea:n,leading:o,trailing:l,preventDefault:!1};if($(window).trigger("action:composer.wrapSelectionInTextareaWith",i),!i.preventDefault){l===void 0&&(l=o);var s=$(n),u=s.val(),e=/^(\s*)([\s\S]*?)(\s*)$/.exec(u.slice(n.selectionStart,n.selectionEnd));return e[2]||(e=[null,"",u.slice(n.selectionStart,n.selectionEnd),""]),s.val(u.slice(0,n.selectionStart)+e[1]+o+e[2]+l+e[3]+u.slice(n.selectionEnd)),[e[1].length,e[3].length]}},c.updateTextareaSelection=function(n,o,l){var i={context:this,textarea:n,start:o,end:l,preventDefault:!1};$(window).trigger("action:composer.updateTextareaSelection",i),!i.preventDefault&&(n.setSelectionRange(i.start,i.end),$(i.textarea).focus())},c.getBlockData=function(n,o,l){var i=n.value;o=o.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");var s=new RegExp(o,"g"),u,e=[],r;for(i=i.split(`
`).reduce(function(a,t){return a!==null||(a=l<=t.length?t:null,a===null&&(l-=t.length+1)),a},null);(u=s.exec(i))!==null;)e.push(u.index);return r={in:!!(e.reduce(function(a,t){return l>=t+2&&(a+=1),a},0)%2),atEnd:e.reduce(function(a,t){return a||l===t},!1)},r.atEnd=r.in?r.atEnd:!1,r},c}.apply(w,g),h!==void 0&&(E.exports=h)},35729:(E,w,d)=>{"use strict";var g,h;g=[d(83713),d(38259),d(62023),d(10577)],h=function(v,c,n,o){var l={},i={picture:function(){var e=this;e.find("#files").click()},upload:function(){var e=this;e.find("#files").click()},thumbs:function(){l.exitFullscreen();var e=this;Promise.all([d.e(61006),d.e(42265),d.e(49915),d.e(92497)]).then(function(){var r=[d(44541)];(function(a){const t=e.get(0).getAttribute("data-uuid"),f=a.posts[t];(f.action==="topics.post"||f.action==="posts.edit"&&f.isMain)&&n.modal.open({id:t,pid:f.pid}).then(()=>{e.trigger("thumb.uploaded"),a.updateThumbCount(t,e)})}).apply(null,r)}).catch(d.oe)},tags:function(){var e=this;e.find(".tags-container").toggleClass("hidden")},zen:function(){var e=this;$(window).one("resize",function(){function r(){o.isFullscreen||(app.toggleNavbar(!0),$("html").removeClass("zen-mode"),c.reposition(e),$(window).off("resize",r))}o.isFullscreen&&(app.toggleNavbar(!1),$("html").addClass("zen-mode"),e.find(".write").focus(),$(window).on("resize",r),$(window).one("action:composer.topics.post action:composer.posts.reply action:composer.posts.edit action:composer.discard",o.exit))}),o.toggle(e.get(0)),$(window).trigger("action:composer.fullscreen",{postContainer:e})}},s=[];l.exitFullscreen=function(){o.isEnabled&&o.isFullscreen&&o.exit()},l.addComposerButtons=function(){const e=$(".formatting-bar .formatting-group #fileForm");s.forEach(r=>{let a="";Array.isArray(r.dropdownItems)&&r.dropdownItems.length?a=u(r):a=`
					<li data-format="${r.name}" title="${r.title||""}" href="#" class="btn btn-sm btn-link text-reset position-relative" tabindex="-1">
						<i class="${r.iconClass}"></i>
					</li>
				`,e.before(a)})};function u(e){const r=e.dropdownItems.map(function(a){let t="";return a.badge&&(t='<span class="px-1 position-absolute top-0 start-100 translate-middle-x badge rounded text-bg-info"></span>'),`
				<li data-format="${a.name}">
					<a href="#" class="dropdown-item rounded-1 position-relative">
						<i class="${a.iconClass} text-secondary"></i> ${a.text}
						${t}
					</a>
				</li>
			`});return`
			<li class="dropdown bottom-sheet" tab-index="-1">
				<button class="btn btn-sm btn-link text-reset" data-bs-toggle="dropdown" title="${e.title}">
					<i class="${e.iconClass}"></i>
				</button>
				<ul class="dropdown-menu p-1">
				${r}
				</ul>
			</li>
		`}return l.addButton=function(e,r,a,t){t=t||e.replace("fa fa-",""),i[t]=r,s.push({name:t,iconClass:e,title:a})},l.addDropdown=function(e){s.push({iconClass:e.iconClass,title:e.title,dropdownItems:e.dropdownItems}),e.dropdownItems.forEach(r=>{r.name&&r.onClick&&(i[r.name]=r.onClick)})},l.getDispatchTable=function(){return i},l.addButtonDispatch=function(e,r){i[e]=r},l.addHandler=function(e){e.on("click",".formatting-bar li[data-format]",function(r){var a=$(this).attr("data-format"),t=$(this).parents('[component="composer"]').find("textarea")[0];i.hasOwnProperty(a)&&(i[a].call(e,t,t.selectionStart,t.selectionEnd,r),v.render(e))})},l}.apply(w,g),h!==void 0&&(E.exports=h)},51077:(E,w,d)=>{"use strict";var g,h;g=[d(85233)],h=function(v){var c={};return c.render=function(n,o){if(o=o||function(){},!n.find(".preview-container").is(":visible"))return o();var l=n.find("textarea");socket.emit("plugins.composer.renderPreview",l.val(),function(i,s){i||(s=$("<div>"+s+"</div>"),s.find("img:not(.not-responsive)").addClass("img-fluid"),n.find(".preview").html(s),v.fire("action:composer.preview",{postContainer:n,preview:s}),o())})},c.matchScroll=function(n){if(n.find(".preview-container").is(":visible")){var o=n.find("textarea"),l=n.find(".preview");if(o.length&&l.length){var i=o[0].scrollHeight-o.height();if(i===0)return;var s=o.scrollTop()/i;l.scrollTop(Math.max(l[0].scrollHeight-l.height(),0)*s)}}},c.handleToggler=function(n){const o=n.get(0);c.env=utils.findBootstrapEnvironment();const l=["xs","sm"].includes(c.env),i=o.querySelector('.formatting-bar [data-action="preview"]'),s=i.querySelector(".show-text"),u=i.querySelector(".hide-text"),e=localStorage.getItem("composer:previewToggled"),r=config["composer-default"].hidePreviewOnOpen==="on";let a=!l&&(e===null&&!r||e);const t=o.querySelector(".preview-container"),f=o.querySelector(".write-container");if(!i)return;function m(b){l?(t.classList.toggle("hide",!1),f.classList.toggle("maximized",!1),t.classList.toggle("d-none",!b),t.classList.toggle("d-flex",b),t.classList.toggle("w-100",b),f.classList.toggle("d-flex",!b),f.classList.toggle("d-none",b),f.classList.toggle("w-100",!b)):(t.classList.toggle("hide",!b),f.classList.toggle("w-50",b),f.classList.toggle("w-100",!b),localStorage.setItem("composer:previewToggled",b)),s.classList.toggle("hide",b),u.classList.toggle("hide",!b),b&&c.render(n),c.matchScroll(n)}c.toggle=m,i.addEventListener("click",b=>{b.button===0&&(a=!a,m(a))}),m(a)},c}.apply(w,g),h!==void 0&&(E.exports=h)},65616:(E,w,d)=>{"use strict";var g,h;g=[d(27145)],h=function(v){var c={},n=0,o=.3,l=.05,i=768,s=$("body"),u=$(window),e=$('[component="navbar"]');const r=document.getElementById("content");var a=e[0];function t(){return localStorage.getItem("composer:resizeRatio")||.5}function f(p){localStorage.setItem("composer:resizeRatio",Math.min(p,1))}function m(){var p;a?p=a.getBoundingClientRect():p={bottom:0};var x=Math.max(p.bottom,0),A={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};return A.width=A.right,A.height=A.bottom,A.boundedTop=x,A.boundedHeight=A.bottom-x,A}function b(p,x){var A=m(),C=p[0],I=window.getComputedStyle(C),N=parseInt(I.getPropertyValue("min-height"),10),B=Math.max(N/window.innerHeight,o);if(A.width>=i){const T=(A.height-A.boundedHeight)/A.height;x=Math.min(Math.max(x,B+T),1);var z=x*A.boundedHeight/A.height;C.style.top=((1-z)*100).toString()+"%";var R=C.getBoundingClientRect();r.style.paddingBottom=(R.bottom-R.top).toString()+"px"}else C.style.top=0,r.style.paddingBottom=0;p.ratio=x,v.updateActive(p.attr("data-uuid"))}var S=b,k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return k&&(S=function(p,x){k(function(){b(p,x),setTimeout(function(){u.trigger("action:composer.resize"),p.trigger("action:composer.resize")},0)})}),c.reposition=function(p){var x=t();x>=1-l&&(x=1,p.addClass("maximized")),S(p,x)},c.maximize=function(p,x){x?S(p,1):c.reposition(p)},c.handleResize=function(p){var x=0,A=0,C=0,I=p.find(".resizer"),N=I[0];function B(F){var P=N.getBoundingClientRect(),D=(P.top+P.bottom)/2;x=(D-F.clientY)/2,A=F.clientY,u.on("mousemove",z),u.on("mouseup",R),s.on("touchmove",T)}function z(F){var P=F.clientY-x,D=m(),y=(D.height-P)/D.boundedHeight;S(p,y)}function R(F){F.preventDefault(),C=F.clientY,p.find("textarea").focus(),u.off("mousemove",z),u.off("mouseup",R),s.off("touchmove",T);var P=C-x,D=m(),y=(D.height-P)/D.boundedHeight;C-A===0&&p.hasClass("maximized")?(p.removeClass("maximized"),y=!n||n>=1-l?.5:n,S(p,y)):C-A===0||y>=1-l?(S(p,1),p.addClass("maximized"),n=y):p.removeClass("maximized"),f(y)}function T(F){F.preventDefault(),z(F.touches[0])}I.on("mousedown",function(F){F.button===0&&(F.preventDefault(),B(F))}).on("touchstart",function(F){F.preventDefault(),B(F.touches[0])}).on("touchend",R)},c}.apply(w,g),h!==void 0&&(E.exports=h)},10577:E=>{/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(){"use strict";var w=typeof window<"u"&&typeof window.document<"u"?window.document:{},d=E.exports,g=function(){for(var c,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,l=n.length,i={};o<l;o++)if(c=n[o],c&&c[1]in w){for(o=0;o<c.length;o++)i[n[0][o]]=c[o];return i}return!1}(),h={change:g.fullscreenchange,error:g.fullscreenerror},v={request:function(c,n){return new Promise(function(o,l){var i=function(){this.off("change",i),o()}.bind(this);this.on("change",i),c=c||w.documentElement;var s=c[g.requestFullscreen](n);s instanceof Promise&&s.then(i).catch(l)}.bind(this))},exit:function(){return new Promise(function(c,n){if(!this.isFullscreen){c();return}var o=function(){this.off("change",o),c()}.bind(this);this.on("change",o);var l=w[g.exitFullscreen]();l instanceof Promise&&l.then(o).catch(n)}.bind(this))},toggle:function(c,n){return this.isFullscreen?this.exit():this.request(c,n)},onchange:function(c){this.on("change",c)},onerror:function(c){this.on("error",c)},on:function(c,n){var o=h[c];o&&w.addEventListener(o,n,!1)},off:function(c,n){var o=h[c];o&&w.removeEventListener(o,n,!1)},raw:g};if(!g){d?E.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(v,{isFullscreen:{get:function(){return!!w[g.fullscreenElement]}},element:{enumerable:!0,get:function(){return w[g.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!w[g.fullscreenEnabled]}}}),d?E.exports=v:window.screenfull=v})()}}]);
