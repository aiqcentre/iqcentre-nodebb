"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[82179],{74648:(u,l,i)=>{var r,o;r=[i(59494),i(74344),i(85233),i(7927)],o=function(f,d,g,c){const s={};return s.init=function(){f.init();const n=$('[component="blocks/search/list"]');$("#user-search").on("keyup",function(){const e=this.value;if(!e)return n.translateHtml('<li><a href="#" class="dropdown-item">[[admin/menu:search.start-typing]]</a></li>');d.get("/api/users",{query:e,searchBy:"username",paginate:!1},function(t,a){if(t)return c.error(t);if(!a.users.length)return n.translateHtml('<li><a href="#" class="dropdown-item">[[users:no-users-found]]</a></li>');a.matchCount>10&&(a.users.length=10),app.parseAndTranslate("account/blocks","edit",{edit:a.users},function(h){$(".block-edit").html(h)})})}),$(".block-edit").on("click",'[data-action="toggle"]',function(){const e=parseInt(this.getAttribute("data-uid"),10);socket.emit("user.toggleBlock",{blockeeUid:e,blockerUid:ajaxify.data.uid},s.refreshList)})},s.refreshList=function(n){if(n)return c.error(n);$.get(config.relative_path+"/api/"+ajaxify.currentPage).done(function(e){app.parseAndTranslate("account/blocks","users",e,function(t){t.find(".timeago").timeago(),$("#users-container").html(t),$("#users-container").siblings("div.alert")[t.length?"hide":"show"]()}),g.fire("action:user.blocks.toggle",{data:e})}).fail(function(){ajaxify.go(ajaxify.currentPage)})},s}.apply(l,r),o!==void 0&&(u.exports=o)}}]);
