"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[71549,53375],{75913:(T,A,u)=>{var g,a;g=[u(59494),u(25142),u(85233)],a=function(_,m,f){const c={};let l,t=1;c.init=function(){_.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-fluid"),c.handleInfiniteScroll("account/posts")},c.handleInfiniteScroll=function(r){l=r,t=ajaxify.data.pagination.currentPage,config.usePagination||m.init(p)};function p(r){if(r<0)return;const h=utils.params();t+=1,h.page=t,m.loadMoreXhr(h,function(o,s){o.posts&&o.posts.length?d(o.posts,s):s()})}function d(r,h){app.parseAndTranslate(l,"posts",{posts:r},function(o){$('[component="posts"]').append(o),o.find("img:not(.not-responsive)").addClass("img-fluid"),o.find(".timeago").timeago(),f.fire("action:posts.loaded",{posts:r}),h()})}return c}.apply(A,g),a!==void 0&&(T.exports=a)},25142:(T,A,u)=>{var g,a;g=[u(85233),u(7927)],a=function(_,m){const f={};let c,l=0,t=!1,p,d=0;f.init=function(o,s){const n=$("body");typeof o=="function"?(c=o,p=n):(c=s,p=o||n),l=$(window).scrollTop(),$(window).off("scroll",r).on("scroll",r),n.height()<=$(window).height()&&c(1)};function r(){d&&clearTimeout(d),d=setTimeout(function(){d=0,h()},60)}function h(){const o=utils.findBootstrapEnvironment(),s=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(t||s||app.flags._glance)return;const n=$(window).scrollTop(),e=$(window).height(),i=p.height()-e,E=p.offset()?p.offset().top:0,w=100*(n-E)/(i<=0?e:i),C=15,D=85,v=n>l?1:-1;(w<C&&n<l||w>D&&n>l||w<0&&v>0&&i<0)&&c(v),l=n}return f.loadMore=function(o,s,n){if(t)return;t=!0;const e={method:o,data:s};_.fire("action:infinitescroll.loadmore",e),socket.emit(e.method,e.data,function(i,E){if(i)return t=!1,m.error(i);n(E,function(){t=!1})})},f.loadMoreXhr=function(o,s){if(t)return;t=!0;const n=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),e={url:n,data:o};_.fire("action:infinitescroll.loadmore.xhr",e),$.get(n,o,function(i){s(i,function(){t=!1})}).fail(function(i){t=!1,m.error(String(i.responseJSON||"[[error:no-connection]]"))})},f.removeExtra=function(o,s,n){let e=$();if(o.length<=n)return e;const i=o.length-n;if(s>0){const E=$(document).height(),w=$(window).scrollTop();e=o.slice(0,i).remove(),$(window).scrollTop(w+($(document).height()-E))}else e=o.slice(o.length-i).remove();return e},f}.apply(A,g),a!==void 0&&(T.exports=a)}}]);
