"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[44223,71549,53375],{74591:(_,A,a)=>{var p,c;p=[a(59494),a(75913)],c=function(g,d){const r={};return r.init=function(){g.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-fluid"),d.handleInfiniteScroll("account/best")},r}.apply(A,p),c!==void 0&&(_.exports=c)},75913:(_,A,a)=>{var p,c;p=[a(59494),a(25142),a(85233)],c=function(g,d,r){const l={};let u,t=1;l.init=function(){g.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-fluid"),l.handleInfiniteScroll("account/posts")},l.handleInfiniteScroll=function(f){u=f,t=ajaxify.data.pagination.currentPage,config.usePagination||d.init(m)};function m(f){if(f<0)return;const E=utils.params();t+=1,E.page=t,d.loadMoreXhr(E,function(o,s){o.posts&&o.posts.length?h(o.posts,s):s()})}function h(f,E){app.parseAndTranslate(u,"posts",{posts:f},function(o){$('[component="posts"]').append(o),o.find("img:not(.not-responsive)").addClass("img-fluid"),o.find(".timeago").timeago(),r.fire("action:posts.loaded",{posts:f}),E()})}return l}.apply(A,p),c!==void 0&&(_.exports=c)},25142:(_,A,a)=>{var p,c;p=[a(85233),a(7927)],c=function(g,d){const r={};let l,u=0,t=!1,m,h=0;r.init=function(o,s){const n=$("body");typeof o=="function"?(l=o,m=n):(l=s,m=o||n),u=$(window).scrollTop(),$(window).off("scroll",f).on("scroll",f),n.height()<=$(window).height()&&l(1)};function f(){h&&clearTimeout(h),h=setTimeout(function(){h=0,E()},60)}function E(){const o=utils.findBootstrapEnvironment(),s=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(t||s||app.flags._glance)return;const n=$(window).scrollTop(),e=$(window).height(),i=m.height()-e,v=m.offset()?m.offset().top:0,T=100*(n-v)/(i<=0?e:i),C=15,D=85,w=n>u?1:-1;(T<C&&n<u||T>D&&n>u||T<0&&w>0&&i<0)&&l(w),u=n}return r.loadMore=function(o,s,n){if(t)return;t=!0;const e={method:o,data:s};g.fire("action:infinitescroll.loadmore",e),socket.emit(e.method,e.data,function(i,v){if(i)return t=!1,d.error(i);n(v,function(){t=!1})})},r.loadMoreXhr=function(o,s){if(t)return;t=!0;const n=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),e={url:n,data:o};g.fire("action:infinitescroll.loadmore.xhr",e),$.get(n,o,function(i){s(i,function(){t=!1})}).fail(function(i){t=!1,d.error(String(i.responseJSON||"[[error:no-connection]]"))})},r.removeExtra=function(o,s,n){let e=$();if(o.length<=n)return e;const i=o.length-n;if(s>0){const v=$(document).height(),T=$(window).scrollTop();e=o.slice(0,i).remove(),$(window).scrollTop(T+($(document).height()-v))}else e=o.slice(o.length-i).remove();return e},r}.apply(A,p),c!==void 0&&(_.exports=c)}}]);
