"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[54610,70565,40549,83014,99617,80560,73382,38818,74344],{54939:(W,D,a)=>{var E,v;E=[a(78942),a(42840),a(7237),a(32230),a(13578),a(74344),a(63281),a(7927),a(85233),a(59265)],v=function(P,N,k,C,A,x,M,g,y,B){const R={};let c=!1;R.init=function(n){c=!1,l(),d(n),P.addShareHandlers(ajaxify.data.titleRaw),A.addVoteHandler(),R.updatePostCount(ajaxify.data.postcount)};function l(){document.querySelector('[component="topic"]')&&$('[component="topic"]').on("show.bs.dropdown",".moderator-tools",function(){const e=$(this),o=e.find(".dropdown-menu");if(o.attr("data-loaded"))return;const i=e.parents("[data-pid]"),s=i.attr("data-pid"),r=parseInt(i.attr("data-index"),10);socket.emit("posts.loadPostTools",{pid:s},async(w,h)=>{if(w)return g.error(w);h.posts.display_move_tools=h.posts.display_move_tools&&r!==0;const T=await app.parseAndTranslate("partials/topic/post-menu-list",h),b=a(42152);o.attr("data-loaded","true").html(T),new b("[data-clipboard-text]"),y.fire("action:post.tools.load",{element:o})})})}R.toggle=function(n,e){const o=k.get("post","pid",n);o.find('[component="post/quote"], [component="post/bookmark"], [component="post/reply"], [component="post/flag"], [component="user/chat"]').toggleClass("hidden",e),o.find('[component="post/delete"]').toggleClass("hidden",e).parent().attr("hidden",e?"":null),o.find('[component="post/restore"]').toggleClass("hidden",!e).parent().attr("hidden",e?null:""),o.find('[component="post/purge"]').toggleClass("hidden",!e).parent().attr("hidden",e?null:""),R.removeMenu(o)},R.removeMenu=function(n){n.find('[component="post/tools"] .dropdown-menu').removeAttr("data-loaded").html("")},R.updatePostCount=function(n){k.get("topic/post-count").attr("title",n).html(B.humanReadableNumber(n)),N.setCount(n)};function d(n){const e=k.get("topic");Y(),e.on("click",'[component="post/quote"]',function(){p($(this),n)}),e.on("click",'[component="post/reply"]',function(){f($(this),n)}),$(".topic").on("click",'[component="topic/reply"]',function(i){i.preventDefault(),f($(this),n)}),$(".topic").on("click",'[component="topic/reply-as-topic"]',function(){C.translate("[[topic:link_back, "+ajaxify.data.titleRaw+", "+config.relative_path+"/topic/"+ajaxify.data.slug+"]]",function(i){y.fire("action:composer.topic.new",{cid:ajaxify.data.cid,body:i})})}),e.on("click",'[component="post/bookmark"]',function(){return I($(this),u($(this),"data-pid"))}),e.on("click",'[component="post/upvote"]',function(){return A.toggleVote($(this),".upvoted",1)}),e.on("click",'[component="post/downvote"]',function(){return A.toggleVote($(this),".downvoted",-1)}),e.on("click",'[component="post/vote-count"]',function(){A.showVotes(u($(this),"data-pid"))}),e.on("click",'[component="post/flag"]',function(){const i=u($(this),"data-pid");a.e(41803).then(function(){var s=[a(41803)];(function(r){r.showFlagModal({type:"post",id:i})}).apply(null,s)}).catch(a.oe)}),e.on("click",'[component="post/flagUser"]',function(){const i=u($(this),"data-uid");a.e(41803).then(function(){var s=[a(41803)];(function(r){r.showFlagModal({type:"user",id:i})}).apply(null,s)}).catch(a.oe)}),e.on("click",'[component="post/flagResolve"]',function(){const i=$(this).attr("data-flagId");a.e(41803).then(function(){var s=[a(41803)];(function(r){r.resolve(i)}).apply(null,s)}).catch(a.oe)}),e.on("click",'[component="post/edit"]',function(){const i=$(this),s=parseInt(u(i,"data-timestamp"),10),r=parseInt(ajaxify.data.postEditDuration,10);o(r,s,"post-edit-duration-expired")&&y.fire("action:composer.post.edit",{pid:u(i,"data-pid")})}),config.enablePostHistory&&ajaxify.data.privileges["posts:history"]&&e.on("click",'[component="post/view-history"], [component="post/edit-indicator"]',function(){const i=$(this);a.e(34654).then(function(){var s=[a(34654)];(function(r){r.open(u(i,"data-pid"))}).apply(null,s)}).catch(a.oe)}),e.on("click",'[component="post/delete"]',function(){const i=$(this),s=parseInt(u(i,"data-timestamp"),10),r=parseInt(ajaxify.data.postDeleteDuration,10);o(r,s,"post-delete-duration-expired")&&j($(this))});function o(i,s,r){if(!ajaxify.data.privileges.isAdminOrMod&&i&&Date.now()-s>i*1e3){const w=Math.floor(i/86400),h=Math.floor(i%86400/3600),T=Math.floor(i%86400%3600/60),b=i%86400%3600%60;let S="[[error:"+r+", "+i+"]]";return w?h?S="[[error:"+r+"-days-hours, "+w+", "+h+"]]":S="[[error:"+r+"-days, "+w+"]]":h?T?S="[[error:"+r+"-hours-minutes, "+h+", "+T+"]]":S="[[error:"+r+"-hours, "+h+"]]":T&&(b?S="[[error:"+r+"-minutes-seconds, "+T+", "+b+"]]":S="[[error:"+r+"-minutes, "+T+"]]"),g.error(S),!1}return!0}e.on("click",'[component="post/restore"]',function(){j($(this))}),e.on("click",'[component="post/purge"]',function(){F($(this))}),e.on("click",'[component="post/move"]',function(){const i=$(this);a.e(53094).then(function(){var s=[a(53094)];(function(r){r.init(i.parents("[data-pid]"))}).apply(null,s)}).catch(a.oe)}),e.on("click",'[component="post/change-owner"]',function(){const i=$(this);a.e(6111).then(function(){var s=[a(6111)];(function(r){r.init(i.parents("[data-pid]"))}).apply(null,s)}).catch(a.oe)}),e.on("click",'[component="post/ban-ip"]',function(){const i=$(this).attr("data-ip");socket.emit("blacklist.addRule",i,function(s){if(s)return g.error(s);g.success("[[admin/manage/blacklist:ban-ip]]")})}),e.on("click",'[component="post/chat"]',function(){Q($(this))})}async function f(n,e){const o=await m();H(async function(){let i=await U(n);(u(n,"data-uid")==="0"||!u(n,"data-userslug"))&&(i="");const s=n.is('[component="post/reply"]')?u(n,"data-pid"):null,r=!s||!o.pid||s===o.pid;o.text&&r?(i=i||o.username,y.fire("action:composer.addQuote",{tid:e,pid:s,title:ajaxify.data.titleRaw,username:i,body:o.text,selectedPid:o.pid})):y.fire("action:composer.post.new",{tid:e,pid:s,title:ajaxify.data.titleRaw,body:i?i+" ":$('[component="topic/quickreply/text"]').val()||""})})}async function p(n,e){const o=await m();H(async function(){const i=await U(n),s=u(n,"data-pid");function r(h){y.fire("action:composer.addQuote",{tid:e,pid:s,username:i,title:ajaxify.data.titleRaw,text:h})}if(o.text&&s&&s===o.pid)return r(o.text);const{content:w}=await x.get(`/posts/${s}/raw`);r(w)})}async function m(){let n="",e,o="";const i=window.getSelection?window.getSelection():document.selection.createRange(),s=$('[component="post"] [component="post/content"]');let r;return s.each(function(w,h){i&&i.containsNode&&h&&i.containsNode(h,!0)&&(r=h)}),r&&i&&(n=i.toString(),e=$(r).parents('[component="post"]').attr("data-pid"),o=await U($(r))),{text:n,pid:e,username:o}}function I(n,e){const o=n.attr("data-bookmarked")==="false"?"put":"del";return x[o](`/posts/${e}/bookmark`,void 0,function(i){if(i)return g.error(i);const s=o==="put"?"bookmark":"unbookmark";y.fire(`action:post.${s}`,{pid:e})}),!1}function u(n,e){return n.parents("[data-pid]").attr(e)}function U(n){return new Promise(e=>{let o="";if(n.attr("component")==="topic/reply"){e(o);return}const i=n.parents("[data-pid]");if(i.length){Promise.all([a.e(20648),a.e(10999)]).then(function(){var s=[a(22568)];(function(r){o=r(i.attr("data-username"),!0),o||(i.attr("data-uid")!=="0"?o="[[global:former_user]]":o="[[global:guest]]"),o&&o!=="[[global:former_user]]"&&o!=="[[global:guest]]"&&(o="@"+o),e(o)}).apply(null,s)}).catch(a.oe);return}e(o)})}function j(n){const e=u(n,"data-pid"),i=k.get("post","pid",e).hasClass("deleted")?"restore":"delete";L(i,e)}function F(n){L("purge",u(n,"data-pid"))}async function L(n,e){({action:n}=await y.fire(`static:post.${n}`,{action:n,pid:e})),n&&M.confirm("[[topic:post_"+n+"_confirm]]",function(o){if(!o)return;const i=n==="purge"?"":"/state";x[n==="restore"?"put":"del"](`/posts/${e}${i}`).catch(g.error)})}function Q(n){const e=n.parents("[data-pid]");return a.e(93216).then(function(){var o=[a(93216)];(function(i){i.newChat(e.attr("data-uid"))}).apply(null,o)}).catch(a.oe),n.parents(".btn-group").find(".dropdown-toggle").click(),!1}function H(n){const e=Math.min(Date.now()-864e5*ajaxify.data.topicStaleDays,864e13);if(c||ajaxify.data.lastposttime>=e)return n();M.dialog({title:"[[topic:stale.title]]",message:"[[topic:stale.warning]]",buttons:{reply:{label:"[[topic:stale.reply_anyway]]",className:"btn-link",callback:function(){c=!0,n()}},create:{label:"[[topic:stale.create]]",className:"btn-primary",callback:function(){C.translate("[[topic:link_back, "+ajaxify.data.title+", "+config.relative_path+"/topic/"+ajaxify.data.slug+"]]",function(i){y.fire("action:composer.topic.new",{cid:ajaxify.data.cid,body:i,fromStaleTopic:!0})})}}}}).modal()}const K=utils.debounce(V,250);function Y(){ajaxify.data.privileges["topics:reply"]&&(y.onPage("action:posts.loaded",t),$(document).off("selectionchange"),$(document).on("selectionchange",function(){window.getSelection().toString()===""&&$('[component="selection/tooltip"]').addClass("hidden")}),$(document).on("selectionchange",K))}function V(){window.getSelection().toString()===""||t()}async function t(){let n=$('[component="selection/tooltip"]');if(n.addClass("hidden"),n.attr("data-ajaxify")==="1"){n.remove();return}const e=window.getSelection();if(e.focusNode&&e.type==="Range"&&ajaxify.data.template.topic){const o=$(e.focusNode),i=$(e.anchorNode),s=i.parents("[data-pid]").attr("data-pid"),r=o.parents("[data-pid]").attr("data-pid");if(s!==r||!o.parents('[component="post/content"]').length||!i.parents('[component="post/content"]').length)return;const w=o.parents("[data-pid]"),h=e.getRangeAt(0);if(!w.length||h.collapsed)return;const T=h.getClientRects(),b=T[T.length-1];n.length||(n=await app.parseAndTranslate("partials/topic/selection-tooltip",ajaxify.data),$('[component="selection/tooltip"]').remove(),n.addClass("hidden").appendTo("body")),n.off("click").on("click",'[component="selection/tooltip/quote"]',function(){n.addClass("hidden"),p(w.find('[component="post/quote"]'),ajaxify.data.tid)}),n.removeClass("hidden"),$(window).one("action:ajaxify.start",function(){n.attr("data-ajaxify",1).addClass("hidden"),$(document).off("selectionchange",K)});const S=n.outerWidth(!0);n.css({top:b.bottom+$(window).scrollTop(),left:S>b.width?b.left:b.left+b.width-S})}}return R}.apply(D,E),v!==void 0&&(W.exports=v)},13578:(W,D,a)=>{var E,v;E=[a(7237),a(32230),a(74344),a(85233),a(63281),a(7927),a(73138)],v=function(P,N,k,C,A,x,M){const g={};let y={};g.addVoteHandler=function(){y={},P.get("topic").on("mouseenter",'[data-pid] [component="post/vote-count"]',R),P.get("topic").on("mouseleave",'[data-pid] [component="post/vote-count"]',B)};function B(){const l=$(this),d=l.parents("[data-pid]").attr("data-pid"),f=M.Tooltip.getInstance(this);f&&(f.dispose(),l.attr("title","")),y[d]=!1}function R(){const l=$(this),f=l.parent().parents("[data-pid]").attr("data-pid");y[f]=!0;const p=M.Tooltip.getInstance(this);p&&(p.dispose(),l.attr("title","")),socket.emit("posts.getUpvoters",[f],function(m,I){if(m)return x.error(m);y[f]&&I.length&&c(l,I[0])})}function c(l,d){function f(m){l.attr("title",m),new M.Tooltip(l,{container:"#content",html:!0}).show()}let p=d.usernames.filter(m=>m!=="[[global:former_user]]");p.length&&(p.length+d.otherCount>d.cutoff?(p=p.join(", ").replace(/,/g,"|"),N.translate("[[topic:users_and_others, "+p+", "+d.otherCount+"]]",function(m){m=m.replace(/\|/g,","),f(m)})):(p=p.join(", "),f(p)))}return g.toggleVote=function(l,d,f){const p=l.closest("[data-pid]"),I=p.find(d).length?"del":"put",u=p.attr("data-pid");return k[I](`/posts/${u}/vote`,{delta:f},function(U){if(U){if(!app.user.uid){ajaxify.go("login");return}return x.error(U)}C.fire("action:post.toggleVote",{pid:u,delta:f,unvote:I==="del"})}),!1},g.showVotes=function(l){socket.emit("posts.getVoters",{pid:l,cid:ajaxify.data.cid},function(d,f){if(d)return d.message==="[[error:no-privileges]]"?void 0:x.error(d);app.parseAndTranslate("modals/votes",f,function(p){const m=A.dialog({title:"[[global:voters]]",message:p,className:"vote-modal",show:!0,onEscape:!0,backdrop:!0});m.on("click",function(){m.modal("hide")})})})},g}.apply(D,E),v!==void 0&&(W.exports=v)},74344:(W,D,a)=>{a.r(D),a.d(D,{del:()=>R,get:()=>x,head:()=>M,patch:()=>y,post:()=>g,put:()=>B});var E=a(85233),v=a.n(E),P=a(63281),N=a.n(P);const k=config.relative_path+"/api/v3";function C(c,l){if(c.url=c.url.startsWith("/api")?config.relative_path+c.url:k+c.url,typeof l=="function"){A(c,l);return}return new Promise((d,f)=>{A(c,function(p,m){if(p)return p.message==="A valid login session was not found. Please log in and try again."?(0,P.confirm)("[[error:api.reauth-required]]",I=>{I&&ajaxify.go("login")}):f(p);d(m)})})}async function A(c,l){const{url:d}=c;delete c.url,c.data&&!(c.data instanceof FormData)&&(c.data=JSON.stringify(c.data||{}),c.headers["content-type"]="application/json; charset=utf-8"),{options:c}=await(0,E.fire)("filter:api.options",{options:c}),c.data&&(c.body=c.data,delete c.data);const f=await fetch(d,c),{headers:p}=f,m=p.get("content-type"),I=m&&m.startsWith("application/json");let u;if(I?u=await f.json():u=await f.text(),!f.ok)return l(new Error(I?u.status.message:u));l(null,I&&u.hasOwnProperty("status")&&u.hasOwnProperty("response")?u.response:u)}function x(c,l,d){return C({url:c+(l&&Object.keys(l).length?"?"+$.param(l):"")},d)}function M(c,l,d){return C({url:c+(l&&Object.keys(l).length?"?"+$.param(l):""),method:"head"},d)}function g(c,l,d){return C({url:c,method:"post",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}function y(c,l,d){return C({url:c,method:"patch",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}function B(c,l,d){return C({url:c,method:"put",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}function R(c,l,d){return C({url:c,method:"delete",data:l,headers:{"x-csrf-token":config.csrf_token}},d)}},11120:W=>{W.exports=function(D,a,E){a.setGlobal("true",!0),a.setGlobal("false",!1);const v=24*60*60*1e3,P={displayMenuItem:k,buildMetaTag:C,buildLinkTag:A,stringify:x,escape:M,stripTags:g,buildCategoryIcon:y,buildCategoryLabel:B,generateCategoryBackground:R,generateChildrenCategories:c,generateTopicClass:l,membershipBtn:d,spawnPrivilegeStates:f,localeToHTML:p,renderTopicImage:m,renderDigestAvatar:I,userAgentIcons:u,buildAvatar:U,increment:j,generateRepliedTo:F,generateWrote:L,isoTimeToLocaleString:Q,shouldHideReplyContainer:H,humanReadableNumber:K,formattedNumber:Y,register:V,__escape:N};function N(t){return t}function k(t,n){const e=t.navigation[n];return!(!e||e.route.match("/users")&&t.user&&!t.user.privileges["view:users"]||e.route.match("/tags")&&t.user&&!t.user.privileges["view:tags"]||e.route.match("/groups")&&t.user&&!t.user.privileges["view:groups"])}function C(t){const n=t.name?'name="'+t.name+'" ':"",e=t.property?'property="'+t.property+'" ':"",o=t.content?'content="'+t.content.replace(/\n/g," ")+'" ':"";return"<meta "+n+e+o+`/>
	`}function A(t){const n=["link","rel","as","type","href","sizes","title","crossorigin"],[e,o,i,s,r,w,h,T]=n.map(b=>t[b]?`${b}="${t[b]}" `:"");return"<link "+e+o+i+s+w+h+r+T+`/>
	`}function x(t){return JSON.stringify(t).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/g,"&quot;")}function M(t){return D.escapeHTML(t)}function g(t){return D.stripHTMLTags(t)}function y(t,n,e){return t?`<span class="icon d-inline-flex justify-content-center align-items-center align-middle ${e}" style="${R(t)} width:${n}; height: ${n}; font-size: ${parseInt(n,10)/2}px;">${t.icon?`<i class="fa fa-fw ${t.icon}"></i>`:""}</span>`:""}function B(t,n=""){return t?`<span class="badge px-1 ${n}" style="color: ${t.color};background-color: ${t.bgColor};border-color: ${t.bgColor}!important;">
			${t.icon&&t.icon!=="fa-nbb-none"?`<i class="fa fa-fw ${t.icon}"></i>`:""}
			${t.name}
		</span>`:""}function R(t){if(!t)return"";const n=[];return t.bgColor&&(n.push("background-color: "+t.bgColor),n.push(`border-color: ${t.bgColor}!important`)),t.color&&n.push("color: "+t.color),t.backgroundImage&&(n.push("background-image: url("+t.backgroundImage+")"),t.imageClass&&n.push("background-size: "+t.imageClass)),n.join("; ")+";"}function c(t){let n="";return!t||!t.children||!t.children.length||(t.children.forEach(function(e){if(e&&!e.isSection){const o=e.link?e.link:E+"/category/"+e.slug;n+='<span class="category-children-item float-start"><div role="presentation" class="icon float-start" style="'+R(e)+'"><i class="fa fa-fw '+e.icon+'"></i></div><a href="'+o+'"><small>'+e.name+"</small></a></span>"}}),n=n&&'<span class="category-children">'+n+"</span>"),n}function l(t){return["locked","pinned","deleted","unread","scheduled"].filter(e=>!!t[e]).join(" ")}function d(t,n=""){return t.isMember&&t.name!=="administrators"?`<button class="btn btn-danger ${n}" data-action="leave" data-group="${t.displayName}" ${t.disableLeave?" disabled":""}><i class="fa fa-times"></i> [[groups:membership.leave-group]]</button>`:t.isPending&&t.name!=="administrators"?`<button class="btn btn-warning disabled ${n}"><i class="fa fa-clock-o"></i> [[groups:membership.invitation-pending]]</button>`:t.isInvited?`<button class="btn btn-link" data-action="rejectInvite" data-group="${t.displayName}">[[groups:membership.reject]]</button><button class="btn btn-success" data-action="acceptInvite" data-group="${t.name}"><i class="fa fa-plus"></i> [[groups:membership.accept-invitation]]</button>`:!t.disableJoinRequests&&t.name!=="administrators"?`<button class="btn btn-success" data-action="join" data-group="${t.displayName}"><i class="fa fa-plus"></i> [[groups:membership.join-group]]</button>`:""}function f(t,n){const e=[];for(const o in n)n.hasOwnProperty(o)&&e.push({name:o,state:n[o]});return e.map(function(o){const i=["groups:moderate","groups:posts:upvote","groups:posts:downvote","groups:local:login","groups:group:create"],s=["groups:find","groups:read","groups:topics:read","groups:view:users","groups:view:tags","groups:view:groups"],r=["groups:moderate"],w=t==="guests"&&(i.includes(o.name)||o.name.startsWith("groups:admin:"))||t==="spiders"&&!s.includes(o.name)||t==="Global Moderators"&&r.includes(o.name);return`
				<td data-privilege="${o.name}" data-value="${o.state}">
					<div class="form-check text-center">
						<input class="form-check-input float-none" autocomplete="off" type="checkbox"${o.state?" checked":""}${w?' disabled="disabled"':""} />
					</div>
				</td>
			`}).join("")}function p(t,n){return t=t||n||"en-GB",t.replace("_","-")}function m(t){return t.thumb?'<img src="'+t.thumb+'" class="img-circle user-img" title="'+t.user.username+'" />':'<img component="user/picture" data-uid="'+t.user.uid+'" src="'+t.user.picture+'" class="user-img" title="'+t.user.username+'" />'}function I(t){return t.teaser?t.teaser.user.picture?'<img style="vertical-align: middle; width: 32px; height: 32px; border-radius: 50%;" src="'+t.teaser.user.picture+'" title="'+t.teaser.user.username+'" />':'<div style="vertical-align: middle; width: 32px; height: 32px; line-height: 32px; font-size: 16px; background-color: '+t.teaser.user["icon:bgColor"]+'; color: white; text-align: center; display: inline-block; border-radius: 50%;">'+t.teaser.user["icon:text"]+"</div>":t.user.picture?'<img style="vertical-align: middle; width: 32px; height: 32px; border-radius: 50%;" src="'+t.user.picture+'" title="'+t.user.username+'" />':'<div style="vertical-align: middle; width: 32px; height: 32px; line-height: 32px; font-size: 16px; background-color: '+t.user["icon:bgColor"]+'; color: white; text-align: center; display: inline-block; border-radius: 50%;">'+t.user["icon:text"]+"</div>"}function u(t){let n="";switch(t.platform){case"Linux":n+='<i class="fa fa-fw fa-linux"></i>';break;case"Microsoft Windows":n+='<i class="fa fa-fw fa-windows"></i>';break;case"Apple Mac":n+='<i class="fa fa-fw fa-apple"></i>';break;case"Android":n+='<i class="fa fa-fw fa-android"></i>';break;case"iPad":n+='<i class="fa fa-fw fa-tablet"></i>';break;case"iPod":case"iPhone":n+='<i class="fa fa-fw fa-mobile"></i>';break;default:n+='<i class="fa fa-fw fa-question-circle"></i>';break}switch(t.browser){case"Chrome":n+='<i class="fa fa-fw fa-chrome"></i>';break;case"Firefox":n+='<i class="fa fa-fw fa-firefox"></i>';break;case"Safari":n+='<i class="fa fa-fw fa-safari"></i>';break;case"IE":n+='<i class="fa fa-fw fa-internet-explorer"></i>';break;case"Edge":n+='<i class="fa fa-fw fa-edge"></i>';break;default:n+='<i class="fa fa-fw fa-question-circle"></i>';break}return n}function U(t,n,e,o,i){t||(t=this);const s=new Map([["alt",t.username],["title",t.username],["data-uid",t.uid],["loading","lazy"]]),r=[`--avatar-size: ${n};`],w=T=>Array.from(T).reduce((b,[S,z])=>(b+=` ${S}="${z}"`,b),"");o=o||"",s.set("class",`avatar ${o}${e?" avatar-rounded":""}`);let h="";return t.picture&&(s.set("component",i||"avatar/picture"),h+="<img "+w(s)+' src="'+t.picture+'" style="'+r.join(" ")+'" onError="this.remove();" itemprop="image" />'),s.set("component",i||"avatar/icon"),r.push("background-color: "+t["icon:bgColor"]+";"),h+="<span "+w(s)+' style="'+r.join(" ")+'">'+t["icon:text"]+"</span>",h}function j(t,n){return t+parseInt(n,10)}function F(t,n){const e=t.parent&&t.parent.displayname?t.parent.displayname:"[[global:guest]]";return`[[topic:replied-to-user-${t.timestamp<Date.now()-n*v?"on":"ago"}, ${t.toPid}, ${E}/post/${t.toPid}, ${e}, ${E}/post/${t.pid}, ${t.timestampISO}]]`}function L(t,n){return`[[topic:wrote-${t.timestamp<Date.now()-n*v?"on":"ago"}, ${E}/post/${t.pid}, ${t.timestampISO}]]`}function Q(t){return new Date(t).toLocaleString().replace(/,/g,"&#44;")}function H(t){return!!(t.replies.count<=0||t.replies.hasSingleImmediateReply)}function K(t,n=1){return D.makeNumberHumanReadable(t,n)}function Y(t){return D.addCommas(t)}function V(){Object.keys(P).forEach(function(t){a.registerHelper(t,P[t])})}return P}},59265:(W,D,a)=>{var E,v;const P=a(11120);E=[a(96795),a(59006)],v=function(N,k){return P(N,k,config.relative_path)}.apply(D,E),v!==void 0&&(W.exports=v)},78942:(W,D,a)=>{var E,v;E=[a(85233)],v=function(P){const N={};N.addShareHandlers=function(A){const x=window.location.protocol+"//"+window.location.host;function M(g,y,B,R){return window.open(g+encodeURIComponent(x+config.relative_path+y),"_blank","width="+B+",height="+R+",scrollbars=no,status=no"),P.fire("action:share.open",{url:g,urlToPost:y}),!1}$("#content").off("shown.bs.dropdown",".share-dropdown").on("shown.bs.dropdown",".share-dropdown",function(){const g=$(this).find(".post-link");g.val(x+C($(this))),setTimeout(function(){g.putCursorAtEnd().select()},50)}),k(".post-link",function(g){return g.preventDefault(),!1}),k('[component="share/twitter"]',function(){return M("https://twitter.com/intent/tweet?text="+encodeURIComponent(A)+"&url=",C($(this)),550,420)}),k('[component="share/facebook"]',function(){return M("https://www.facebook.com/sharer/sharer.php?u=",C($(this)),626,436)}),P.fire("action:share.addHandlers",{openShare:M})};function k(A,x){$("#content").off("click",A).on("click",A,x)}function C(A){const x=parseInt(A.parents("[data-pid]").attr("data-pid"),10);return"/post"+(x?"/"+x:"")}return N}.apply(D,E),v!==void 0&&(W.exports=v)}}]);
