(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[54955],{73461:(T,K,c)=>{(function(i){"use strict";var h={tagClass:function(t){return"label label-info"},focusClass:"focus",itemValue:function(t){return t&&t.toString()},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};function d(t,e){this.isInit=!0,this.itemsArray=[],this.$element=i(t),this.$element.hide(),this.isSelect=t.tagName==="SELECT",this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=i('<div class="bootstrap-tagsinput"></div>'),this.$input=i('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(e),this.isInit=!1}d.prototype={constructor:d,add:function(t,e,a){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags)&&!(t!==!1&&!t)){if(typeof t=="string"&&n.options.trimValue&&(t=i.trim(t)),typeof t=="object"&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&n.itemsArray.length>0&&n.remove(n.itemsArray[0]),typeof t=="string"&&this.$element[0].tagName==="INPUT"){var o=n.options.delimiterRegex?n.options.delimiterRegex:n.options.delimiter,r=t.split(o);if(r.length>1){for(var l=0;l<r.length;l++)this.add(r[l],!0);e||n.pushVal(n.options.triggerChange);return}}var u=n.options.itemValue(t),f=n.options.itemText(t),R=n.options.tagClass(t),g=n.options.itemTitle(t),x=i.grep(n.itemsArray,function(V){return n.options.itemValue(V)===u})[0];if(x&&!n.options.allowDuplicates){if(n.options.onTagExists){var E=i(".tag",n.$container).filter(function(){return i(this).data("item")===x});n.options.onTagExists(t,E)}return}if(!(n.items().toString().length+t.length+1>n.options.maxInputLength)){var C=i.Event("beforeItemAdd",{item:t,cancel:!1,options:a});if(n.$element.trigger(C),!C.cancel){n.itemsArray.push(t);var I=i('<span class="tag '+p(R)+(g!==null?'" title="'+g:"")+'">'+p(f)+'<span data-role="remove"></span></span>');if(I.data("item",t),n.findInputWrapper().before(I),I.after(" "),n.isSelect){var P=i('option[value="'+encodeURIComponent(u)+'"]',n.$element).length||i('option[value="'+p(u)+'"]',n.$element).length;if(!P){var b=i("<option selected>"+p(f)+"</option>");b.data("item",t),b.attr("value",u),n.$element.append(b)}}e||n.pushVal(n.options.triggerChange),(n.options.maxTags===n.itemsArray.length||n.items().toString().length===n.options.maxInputLength)&&n.$container.addClass("bootstrap-tagsinput-max"),i(".typeahead, .twitter-typeahead",n.$container).length&&n.$input.typeahead("val",""),this.isInit?n.$element.trigger(i.Event("itemAddedOnInit",{item:t,options:a})):n.$element.trigger(i.Event("itemAdded",{item:t,options:a}))}}}}},remove:function(t,e,a){var n=this;if(n.objectItems&&(typeof t=="object"?t=i.grep(n.itemsArray,function(r){return n.options.itemValue(r)==n.options.itemValue(t)}):t=i.grep(n.itemsArray,function(r){return n.options.itemValue(r)==t}),t=t[t.length-1]),t){var o=i.Event("beforeItemRemove",{item:t,cancel:!1,options:a});if(n.$element.trigger(o),o.cancel)return;i(".tag",n.$container).filter(function(){return i(this).data("item")===t}).remove(),i("option",n.$element).filter(function(){return i(this).data("item")===t}).remove(),i.inArray(t,n.itemsArray)!==-1&&n.itemsArray.splice(i.inArray(t,n.itemsArray),1)}e||n.pushVal(n.options.triggerChange),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(i.Event("itemRemoved",{item:t,options:a}))},removeAll:function(){var t=this;for(i(".tag",t.$container).remove(),i("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var t=this;i(".tag",t.$container).each(function(){var e=i(this),a=e.data("item"),n=t.options.itemValue(a),o=t.options.itemText(a),r=t.options.tagClass(a);if(e.attr("class",null),e.addClass("tag "+p(r)),e.contents().filter(function(){return this.nodeType==3})[0].nodeValue=p(o),t.isSelect){var l=i("option",t.$element).filter(function(){return i(this).data("item")===a});l.attr("value",n)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,e=i.map(t.items(),function(a){return t.options.itemValue(a).toString()});t.$element.val(e,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(t){var e=this;if(e.options=i.extend({},h,t),e.objectItems&&(e.options.freeInput=!1),v(e.options,"itemValue"),v(e.options,"itemText"),y(e.options,"tagClass"),e.options.typeahead){var a=e.options.typeahead||{};y(a,"source"),e.$input.typeahead(i.extend({},a,{source:function(l,u){function f(x){for(var E=[],C=0;C<x.length;C++){var I=e.options.itemText(x[C]);R[I]=x[C],E.push(I)}u(E)}this.map={};var R=this.map,g=a.source(l);i.isFunction(g.success)?g.success(f):i.isFunction(g.then)?g.then(f):i.when(g).then(f)},updater:function(l){return e.add(this.map[l]),this.map[l]},matcher:function(l){return l.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(l){return l.sort()},highlighter:function(l){var u=new RegExp("("+this.query+")","gi");return l.replace(u,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var n=null,o={},r=e.options.typeaheadjs;i.isArray(r)?(n=r[0],o=r[1]):o=r,e.$input.typeahead(n,o).on("typeahead:selected",i.proxy(function(l,u){o.valueKey?e.add(u[o.valueKey]):e.add(u),e.$input.typeahead("val","")},e))}e.$container.on("click",i.proxy(function(l){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",i.proxy(function(l){i(".typeahead, .twitter-typeahead",e.$container).length===0&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on({focusin:function(){e.$container.addClass(e.options.focusClass)},focusout:function(){e.$container.removeClass(e.options.focusClass)}}),e.$container.on("keydown","input",i.proxy(function(l){var u=i(l.target),f=e.findInputWrapper();if(e.$element.attr("disabled")){e.$input.attr("disabled","disabled");return}switch(l.which){case 8:if(A(u[0])===0){var R=f.prev();R.length&&e.remove(R.data("item"))}break;case 46:if(A(u[0])===0){var g=f.next();g.length&&e.remove(g.data("item"))}break;case 37:var x=f.prev();u.val().length===0&&x[0]&&(x.before(f),u.focus());break;case 39:var E=f.next();u.val().length===0&&E[0]&&(E.after(f),u.focus());break;default:}var C=u.val().length,I=Math.ceil(C/5),P=C+I+1;u.attr("size",Math.max(this.inputSize,u.val().length))},e)),e.$container.on("keypress","input",i.proxy(function(l){var u=i(l.target);if(e.$element.attr("disabled")){e.$input.attr("disabled","disabled");return}var f=u.val(),R=e.options.maxChars&&f.length>=e.options.maxChars;e.options.freeInput&&(s(l,e.options.confirmKeys)||R)&&(f.length!==0&&(e.add(R?f.substr(0,e.options.maxChars):f),u.val("")),e.options.cancelConfirmKeysOnEmpty===!1&&l.preventDefault());var g=u.val().length,x=Math.ceil(g/5),E=g+x+1;u.attr("size",Math.max(this.inputSize,u.val().length))},e)),e.$container.on("click","[data-role=remove]",i.proxy(function(l){e.$element.attr("disabled")||e.remove(i(l.target).closest(".tag").data("item"))},e)),e.options.itemValue===h.itemValue&&(e.$element[0].tagName==="INPUT"?e.add(e.$element.val()):i("option",e.$element).each(function(){e.add(i(this).attr("value"),!0)}))},destroy:function(){var t=this;t.$container.off("keypress","input"),t.$container.off("click","[role=remove]"),t.$container.remove(),t.$element.removeData("tagsinput"),t.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return i(t)}},i.fn.tagsinput=function(t,e,a){var n=[];return this.each(function(){var o=i(this).data("tagsinput");if(!o)o=new d(this,t),i(this).data("tagsinput",o),n.push(o),this.tagName==="SELECT"&&i("option",i(this)).attr("selected","selected"),i(this).val(i(this).val());else if(!t&&!e)n.push(o);else if(o[t]!==void 0){if(o[t].length===3&&a!==void 0)var r=o[t](e,null,a);else var r=o[t](e);r!==void 0&&n.push(r)}}),typeof t=="string"?n.length>1?n:n[0]:n},i.fn.tagsinput.Constructor=d;function v(t,e){if(typeof t[e]!="function"){var a=t[e];t[e]=function(n){return n[a]}}}function y(t,e){if(typeof t[e]!="function"){var a=t[e];t[e]=function(){return a}}}var m=i("<div />");function p(t){return t?m.text(t).html():""}function A(t){var e=0;if(document.selection){t.focus();var a=document.selection.createRange();a.moveStart("character",-t.value.length),e=a.text.length}else(t.selectionStart||t.selectionStart=="0")&&(e=t.selectionStart);return e}function s(t,e){var a=!1;return i.each(e,function(n,o){if(typeof o=="number"&&t.which===o)return a=!0,!1;if(t.which===o.which){var r=!o.hasOwnProperty("altKey")||t.altKey===o.altKey,l=!o.hasOwnProperty("shiftKey")||t.shiftKey===o.shiftKey,u=!o.hasOwnProperty("ctrlKey")||t.ctrlKey===o.ctrlKey;if(r&&l&&u)return a=!0,!1}}),a}i(function(){i("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})})(window.jQuery),jQuery.fn.serializeObject=function(){for(var i={},h=this.serializeArray(),d=0,v=h.length;d<v;d++){var y=h[d],m=y.name,p=y.value!=null?y.value:"";i[m]!==void 0?(i[m].push||(i[m]=[i[m]]),i[m].push(p)):i[m]=p}return i},function(i){T.exports?T.exports=i(c(19755)):i(window.jQuery)}(function(i){function h(t,e,a){var n=a[t];return n===void 0?a[t]=[e]:n.push(e),a}function d(t,e){var a={},n=t.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(e||":input:not(:disabled)").get();return i.each(n,function(o,r){h(r.name,r,a)}),a}function v(t){return(t.type||t.nodeName).toLowerCase()}function y(t){var e={},a=/\+/g;return i.isPlainObject(t)?(i.extend(e,t),i.each(e,function(n,o){i.isArray(o)||(e[n]=[o])})):i.isArray(t)?i.each(t,function(n,o){h(o.name,o.value,e)}):typeof t=="string"&&i.each(t.split("&"),function(n,o){var r=o.split("="),l=decodeURIComponent(r[0].replace(a,"%20")),u=decodeURIComponent(r[1].replace(a,"%20"));h(l,u,e)}),e}var m={checked:["radio","checkbox"],selected:["option","select-one","select-multiple"],value:["button","color","date","datetime","datetime-local","email","hidden","month","number","password","range","reset","search","submit","tel","text","textarea","time","url","week"]};function p(t){var e=v(t),a=void 0;return i.each(m,function(n,o){if(i.inArray(e,o)>-1)return a=n,!1}),a}function A(t,e,a,n,o){var r=p(t);if(r=="value"&&e==n)t.value=a,o.call(t,a);else if(r=="checked"||r=="selected"){var l=[];t.options?i.each(t.options,function(u,f){l.push(f)}):l.push(t),t.multiple&&n==0&&(t.selectedIndex=-1),i.each(l,function(u,f){f.value==a&&(f[r]=!0,o.call(f,a))})}}var s={change:i.noop,complete:i.noop};i.fn.deserialize=function(t,e){i.isFunction(e)&&(e={complete:e}),e=i.extend(s,e||{}),t=y(t);var a=d(this,e.filter);return i.each(t,function(n,o){i.each(a[n],function(r,l){i.each(o,function(u,f){A(l,r,f,u,e.change)})})}),e.complete.call(this),this}}),Promise.resolve().then(function(){var i=[c(32230),c(63281)];(function(h,d){"use strict";Object.defineProperty?Object.defineProperty(window,"bootbox",{configurable:!0,enumerable:!0,get:function(){return console.warn('[deprecated] Accessing bootbox globally is deprecated. Use `require(["bootbox"], function (bootbox) { ... })` instead'),d}}):window.bootbox=d,d.setDefaults({locale:config.userLang});var v=h.Translator.create(),y=d.dialog,m=["placeholder","title","value","label"];d.dialog=function(p){var A=p.show!==!1;p.show=!1;var s=y.call(d,p),t=s[0];return/\[\[.+\]\]/.test(t.outerHTML)?v.translateInPlace(t,m).then(function(){A&&s.modal("show")}):A&&s.modal("show"),s},Promise.all([v.translateKey("modules:bootbox.ok",[]),v.translateKey("modules:bootbox.cancel",[]),v.translateKey("modules:bootbox.confirm",[])]).then(function(p){var A=h.getLanguage();d.addLocale(A,{OK:p[0],CANCEL:p[1],CONFIRM:p[2]}),d.setLocale(A)})}).apply(null,i)}).catch(c.oe)},32887:(T,K,c)=>{"use strict";c(3155),c(73461),app.onDomReady(),function(){let i=0,h;function d(){app.config.adminReloginDuration<=0||(i&&clearTimeout(i),h||Promise.resolve().then(function(){var s=[c(32230)];(function(t){t.translate("[[login:logged-out-due-to-inactivity]]",function(e){h=e})}).apply(null,s)}).catch(c.oe),i=setTimeout(function(){Promise.resolve().then(function(){var s=[c(63281)];(function(t){t.alert({closeButton:!1,message:h,callback:function(){window.location.reload()}})}).apply(null,s)}).catch(c.oe)},36e5))}Promise.all([c.e(42441),c.e(86027)]).then(function(){var s=[c(85233),c(99764)];((t,e)=>{t.on("action:ajaxify.end",a=>{p(a.url),A(),v(),d(),$('[data-bs-toggle="tooltip"]').tooltip({animation:!1,container:"#content"}),$(".settings").length&&e.prepare(),$('[component="settings/toc"]').length&&e.populateTOC()}),t.on("action:ajaxify.start",function(){Promise.resolve().then(function(){var a=[c(73138)];(function(n){const o=n.Offcanvas.getInstance("#offcanvas");o&&o.hide()}).apply(null,a)}).catch(c.oe)})}).apply(null,s)}).catch(c.oe);function v(){const s=$('[component="acp/accordion"]');let t=window.location.pathname;t==="/admin"&&(t="/admin/dashboard");const e=s.find(`a[href="${t}"]`);e.length&&(s.find("a").removeClass("active"),s.find(".accordion-collapse").removeClass("show"),e.addClass("active"),e.parents(".accordion-collapse").addClass("show"))}$(document).ready(function(){Promise.all([c.e(42441),c.e(87527)]).then(function(){var s=[c(24601)];(function(t){t.init()}).apply(null,s)}).catch(c.oe),$('[component="logout"]').on("click",function(){return c.e(70145).then(function(){var s=[c(39002)];(function(t){t()}).apply(null,s)}).catch(c.oe),!1}),m(),y()});function y(){const s=$("#offcanvas #accordionACP");s.attr("id","accordionACP-offcanvas"),s.find("[data-bs-target]").each((t,e)=>{$(e).attr("data-bs-target",$(e).attr("data-bs-target")+"-offcanvas")}),s.find("[data-bs-parent]").each((t,e)=>{$(e).attr("data-bs-parent","#accordionACP-offcanvas")}),s.find(".accordion-collapse").each((t,e)=>{$(e).attr("id",$(e).attr("id")+"-offcanvas")})}function m(){c.e(74865).then(function(){var s=[c(74865),c(85233)];(function(t,e){$(window).on("action:ajaxify.start",function(){t.set(.7)}),e.on("action:ajaxify.end",function(){t.done()})}).apply(null,s)}).catch(c.oe)}function p(s){Promise.resolve().then(function(){var t=[c(32230)];(function(e){s=s.replace(/\/\d+$/,"").split("/").slice(0,3).join("/").split(/[?#]/)[0].replace(/(\/+$)|(^\/+)/,""),s==="admin"&&(s="admin/dashboard"),s=[config.relative_path,s].join("/");let a;$(`[component="acp/accordion"] a[href="${s}"]`).each(function(){a=$(this).text()});let n,o;if(/admin\/plugins\//.test(s))n=a,o="[[admin/menu:section-plugins]] > "+n;else{const r=s.match(/admin\/(.+?)\/(.+?)$/);r?(n="[[admin/menu:"+r[1]+"/"+r[2]+"]]",o="[[admin/menu:section-"+(r[1]==="development"?"advanced":r[1])+"]]"+(r[2]?" > "+n:""),r[2]==="settings"&&(n=e.compile("admin/menu:settings.page-title",n))):(n="[[admin/menu:section-dashboard]]",o="[[admin/menu:section-dashboard]]")}o=e.compile("admin/admin:acp-title",o),e.translate(o,function(r){document.title=r.replace(/&gt;/g,">")})}).apply(null,t)}).catch(c.oe)}function A(){c.e(37201).then(function(){var s=[c(59006),c(63281),c(64117)];(function(t,e,a){t.render("partials/toast",{}).then(function(){$('[component="rebuild-and-restart"]').off("click").on("click",function(){e.confirm("[[admin/admin:alert.confirm-rebuild-and-restart]]",function(n){n&&a.rebuildAndRestart()})}),$('[component="restart"]').off("click").on("click",function(){e.confirm("[[admin/admin:alert.confirm-restart]]",function(n){n&&a.restart()})})})}).apply(null,s)}).catch(c.oe)}}()}}]);
