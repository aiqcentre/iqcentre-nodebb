(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[61906,37986,62735,1322,14625,12160,25655,6721],{36138:(w,D,u)=>{w.exports=u(60049)},99398:(w,D,u)=>{w.exports=u(18196)},83713:(w,D,u)=>{w.exports=u(51077)},6721:(w,D,u)=>{w.exports=u(70968)},40646:(w,D,u)=>{w.exports=u(82938)},75203:(w,D,u)=>{"use strict";var C;C=function(){const S={};return S.apply=function(x){$(x).on("mousewheel",function(d){const c=this.scrollTop,l=this.scrollHeight,r=Math.round(this.getBoundingClientRect().height);if(d.originalEvent.deltaY<0&&c===0||d.originalEvent.deltaY>0&&r+c>=l)return!1})},S}.call(D,u,D,w),C!==void 0&&(w.exports=C)},18340:(w,D,u)=>{"use strict";var C,S;C=[u(85233),u(7927)],S=function(x,d){let c,l=[],r=0,s;function f(t,e){typeof t!="string"&&(t=$(t),t=t.data("type")||t.attr("type")||t.prop("tagName"));const n=c.plugins[t.toLowerCase()];if(n==null)return;const a=n[e];return typeof a=="function"?a:null}return s={deepClone:function(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t},createElement:function(t,e,n){const a=document.createElement(t);for(const i in e)e.hasOwnProperty(i)&&a.setAttribute(i,e[i]);return n&&a.appendChild(document.createTextNode(n)),a},initElement:function(t){const e=f(t,"init");e?.call(c,$(t))},destructElement:function(t){const e=f(t,"destruct");e?.call(c,$(t))},createElementOfType:function(t,e,n){let a;const i=f(t,"create");return i!=null?a=$(i.call(c,t,e,n)):(n==null&&(n={}),t!=null&&(n.type=t),a=$(s.createElement(e||"input",n))),a.data("type",t),s.initElement(a),a},cleanArray:function(t,e,n){const a=[];if(!e&&n)return t;for(let i=0;i<t.length;i+=1){let o=t[i];e&&(o===!!o?o=+o:o&&typeof o.trim=="function"&&(o=o.trim())),(n||o!=null&&o.length)&&a.push(o)}return a},isTrue:function(t){return t==="true"||+t==1},isFalse:function(t){return t==="false"||+t==0},readValue:function(t){let e=!s.isFalse(t.data("empty"));const n=!s.isFalse(t.data("trim")),a=t.data("split"),i=f(t,"get");let o;if(i!=null)return i.call(c,t,n,e);if(a!=null){e=s.isTrue(t.data("empty")),o=t.val();const p=o!=null&&o.split(a||",")||[];return s.cleanArray(p,n,e)}if(o=t.val(),n&&o!=null&&typeof o.trim=="function"&&(o=o.trim()),e||o!==void 0&&(o==null||o.length!==0))return o},fillField:function(t,e){const n=f(t,"set");let a=t.data("trim");if(a=a!=="false"&&+a!=0,n!=null)return n.call(c,t,e,a);e instanceof Array&&(e=e.join(t.data("split")||(a?", ":","))),a&&e&&typeof e.trim=="function"?(e=e.trim(),typeof e.toString=="function"&&(e=e.toString())):e!=null?(typeof e.toString=="function"&&(e=e.toString()),a&&(e=e.trim())):e="",e!==void 0&&t.val(e)},initFields:function(t){$("[data-key]",t).each(function(e,n){n=$(n);const a=f(n,"init"),i=n.data("key").split(".");let o=c.get();a?.call(c,n);for(let p=0;p<i.length;p+=1){const g=i[p];g&&o!=null&&(o=o[g])}s.fillField(n,o)})},registerReadyJobs:function(t){return r+=t,r},beforeReadyJobsDecreased:function(t){if(t==null&&(t=1),r>0&&(r-=t,r<=0)){for(let e=0;e<l.length;e+=1)l[e]();l=[]}},whenReady:function(t){r<=0?t():l.push(t)},serializeForm:function(t){const e=t.serializeObject();return t.find('input[type="checkbox"]').each(function(n,a){a=$(a),a.is(":checked")||(e[a.attr("name")]="off")}),t.find("select[multiple]").each(function(n,a){a=$(a),e[a.attr("name")]=JSON.stringify(a.val())}),e},persistSettings:function(t,e,n,a){e!=null&&e._!=null&&typeof e._!="string"&&(e=s.deepClone(e),e._=JSON.stringify(e._)),socket.emit("admin.settings.set",{hash:t,values:e},function(i){n&&(i?d.alert({title:"[[admin/admin:changes-not-saved]]",type:"danger",message:`[[admin/admin/changes-not-saved-message, ${i.message}]]`,timeout:5e3}):d.alert({title:"[[admin/admin:changes-saved]]",type:"success",message:"[[admin/admin:changes-saved-message]]",timeout:2500})),typeof a=="function"&&a(i)})},use:function(t){try{t._=JSON.parse(t._)}catch{}c.cfg=t}},c={helper:s,plugins:{},cfg:{},get:function(){return c.cfg!=null&&c.cfg._!==void 0?c.cfg._:c.cfg},registerPlugin:function(t,e){e==null?e=t.types:t.types=e,typeof t.use=="function"&&t.use.call(c);for(let n=0;n<e.length;n+=1){const a=e[n].toLowerCase();c.plugins[a]==null&&(c.plugins[a]=t)}},set:function(t,e,n,a,i){i==null&&(i=!0),s.whenReady(function(){s.use(e),s.initFields(n||"form"),s.persistSettings(t,e,i,a)})},sync:function(t,e,n){socket.emit("admin.settings.get",{hash:t},function(a,i){a?typeof n=="function"&&n(a):s.whenReady(function(){s.use(i),s.initFields(e||"form"),typeof n=="function"&&n()})})},persist:function(t,e,n,a){const i=[],o=$("[data-key]",e||"form").toArray();a==null&&(a=!0);for(let p=0;p<o.length;p+=1){const g=$(o[p]),m=s.readValue(g);let v=c.get();const R=g.data("key").split("."),P=R[R.length-1];if(R.length>1)for(let y=0;y<R.length-1;y+=1){const E=R[y];E&&v!=null&&(v=v[E])}v!=null?m!=null?v[P]=m:delete v[P]:i.push(g.data("key"))}i.length&&d.alert({title:"Attributes Not Saved",message:"'"+i.join(", ")+"' could not be saved. Please contact the plugin-author!",type:"danger",timeout:5e3}),s.persistSettings(t,c.cfg,a,n)},load:function(t,e,n){n=n||function(){};const a=e.attr("data-socket-get");socket.emit(a||"admin.settings.get",{hash:t},function(i,o){if(i)return n(i);$(e).find("select[multiple]").each(function(g,m){const v=$(m).attr("name");if(v&&o.hasOwnProperty(v))try{o[v]=JSON.parse(o[v])}catch{}}),ajaxify.data[a?t:"settings"]=o,s.whenReady(function(){$(e).find("[data-sorted-list]").each(function(g,m){f(m,"get").call(c,$(m),t)})}),$(e).deserialize(o),x.fire("action:admin.settingsLoaded"),$(e).on("change","input, select, textarea",function(){app.flags=app.flags||{},app.flags._unsaved=!0});const p=document.getElementById("save");p&&u.e(42441).then(function(){var g=[u(42441)];(function(m){m.bind("ctrl+s",function(v){p.click(),v.preventDefault()})}).apply(null,g)}).catch(u.oe),n(null,o)})},save:function(t,e,n){e=$(e);const a=e.get(0).elements;if(c.check(a)&&e.length){const o=s.serializeForm(e);s.whenReady(function(){const g=e.find("[data-sorted-list]");g.length&&g.each((m,v)=>{f(v,"set").call(c,$(v),o)})});const p=e.attr("data-socket-set");socket.emit(p||"admin.settings.set",{hash:t,values:o},function(g){if(app.flags._unsaved=!1,ajaxify.data[p?t:"settings"]=o,typeof n=="function")n(g);else if(g)d.alert({title:"[[admin/admin:changes-not-saved]]",message:`[[admin/admin:changes-not-saved-message, ${g.message}]]`,type:"error",timeout:2500});else{const m=document.getElementById("save");m.classList.toggle("saved",!0),setTimeout(()=>{m.classList.toggle("saved",!1)},1500)}})}},check:function(t){const e=n=>{const a=n.target.closest(".form-group");a&&a.classList.add("has-error"),n.target.removeEventListener("invalid",e)};return Array.prototype.map.call(t,n=>{const a=n.closest(".form-group");return a&&a.classList.remove("has-error"),n.addEventListener("invalid",e),n.reportValidity()}).every(Boolean)}},s.registerReadyJobs(1),Promise.all([u.e(66177),u.e(62526),u.e(26069)]).then(function(){var t=[u(16631),u(73143),u(7448),u(15101),u(846),u(88839),u(53411),u(66370)];(function(){for(let e=0;e<arguments.length;e+=1)c.registerPlugin(arguments[e]);s.beforeReadyJobsDecreased()}).apply(null,t)}).catch(u.oe),c}.apply(D,C),S!==void 0&&(w.exports=S)},60049:(w,D,u)=>{"use strict";var C,S;C=[u(18340),u(7927),u(85233),u(6721),u(40646)],S=function(x,d,c,l,r){var s={};s.init=function(){r.init(function(){x.load("reactions",$(".reactions-settings"),f)})};function f(){c.on("action:settings.sorted-list.parse",function(t){const e=t.itemHtml.find("[data-reaction]");if(e.length){const n=e.attr("data-reaction");if(n){const a=r.table[n];a&&e.html(r.buildEmoji(a))}}}),c.on("action:settings.sorted-list.modal",function(t){const{modal:e}=t;e.removeAttr("tabindex"),e.find("#reaction").off("click").on("click",function(){l.toggle(e.find("#reaction")[0],function(n,a,i){l.dialogActions.close(i),e.find("#reaction").val(a)})}),e.off("hide.bs.modal").on("hide.bs.modal",function(){l.dialogActions.close($("#emoji-dialog"))})}),$("#save").on("click",function(){x.save("reactions",$(".reactions-settings"),function(){d.alert({type:"success",alert_id:"reactions-saved",title:"Settings Saved",message:"Reactions plugin settings saved",timeout:3e3})})})}return s}.apply(D,C),S!==void 0&&(w.exports=S)},18196:(w,D,u)=>{"use strict";var C,S;C=[u(83713)],S=function(x){var d={};return d.insertIntoTextarea=function(c,l){var r={context:this,textarea:c,value:l,preventDefault:!1};if($(window).trigger("action:composer.insertIntoTextarea",r),!r.preventDefault){var s=$(r.textarea),f=s.val(),t=s.parents('[component="composer"]');s.val(f.slice(0,r.textarea.selectionStart)+r.value+f.slice(r.textarea.selectionStart)),x.render(t)}},d.replaceSelectionInTextareaWith=function(c,l){var r={context:this,textarea:c,value:l,preventDefault:!1};if($(window).trigger("action:composer.replaceSelectionInTextareaWith",r),!r.preventDefault){var s=$(r.textarea),f=s.val(),t=s.parents('[component="composer"]');s.val(f.slice(0,r.textarea.selectionStart)+r.value+f.slice(r.textarea.selectionEnd)),x.render(t)}},d.wrapSelectionInTextareaWith=function(c,l,r){var s={context:this,textarea:c,leading:l,trailing:r,preventDefault:!1};if($(window).trigger("action:composer.wrapSelectionInTextareaWith",s),!s.preventDefault){r===void 0&&(r=l);var f=$(c),t=f.val(),e=/^(\s*)([\s\S]*?)(\s*)$/.exec(t.slice(c.selectionStart,c.selectionEnd));return e[2]||(e=[null,"",t.slice(c.selectionStart,c.selectionEnd),""]),f.val(t.slice(0,c.selectionStart)+e[1]+l+e[2]+r+e[3]+t.slice(c.selectionEnd)),[e[1].length,e[3].length]}},d.updateTextareaSelection=function(c,l,r){var s={context:this,textarea:c,start:l,end:r,preventDefault:!1};$(window).trigger("action:composer.updateTextareaSelection",s),!s.preventDefault&&(c.setSelectionRange(s.start,s.end),$(s.textarea).focus())},d.getBlockData=function(c,l,r){var s=c.value;l=l.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&");var f=new RegExp(l,"g"),t,e=[],n;for(s=s.split(`
`).reduce(function(a,i){return a!==null||(a=r<=i.length?i:null,a===null&&(r-=i.length+1)),a},null);(t=f.exec(s))!==null;)e.push(t.index);return n={in:!!(e.reduce(function(a,i){return r>=i+2&&(a+=1),a},0)%2),atEnd:e.reduce(function(a,i){return a||r===i},!1)},n.atEnd=n.in?n.atEnd:!1,n},d}.apply(D,C),S!==void 0&&(w.exports=S)},51077:(w,D,u)=>{"use strict";var C,S;C=[u(85233)],S=function(x){var d={};return d.render=function(c,l){if(l=l||function(){},!c.find(".preview-container").is(":visible"))return l();var r=c.find("textarea");socket.emit("plugins.composer.renderPreview",r.val(),function(s,f){s||(f=$("<div>"+f+"</div>"),f.find("img:not(.not-responsive)").addClass("img-fluid"),c.find(".preview").html(f),x.fire("action:composer.preview",{postContainer:c,preview:f}),l())})},d.matchScroll=function(c){if(c.find(".preview-container").is(":visible")){var l=c.find("textarea"),r=c.find(".preview");if(l.length&&r.length){var s=l[0].scrollHeight-l.height();if(s===0)return;var f=l.scrollTop()/s;r.scrollTop(Math.max(r[0].scrollHeight-r.height(),0)*f)}}},d.handleToggler=function(c){const l=c.get(0);d.env=utils.findBootstrapEnvironment();const r=["xs","sm"].includes(d.env),s=l.querySelector('.formatting-bar [data-action="preview"]'),f=s.querySelector(".show-text"),t=s.querySelector(".hide-text"),e=localStorage.getItem("composer:previewToggled"),n=config["composer-default"].hidePreviewOnOpen==="on";let a=!r&&(e===null&&!n||e);const i=l.querySelector(".preview-container"),o=l.querySelector(".write-container");if(!s)return;function p(g){r?(i.classList.toggle("hide",!1),o.classList.toggle("maximized",!1),i.classList.toggle("d-none",!g),i.classList.toggle("d-flex",g),i.classList.toggle("w-100",g),o.classList.toggle("d-flex",!g),o.classList.toggle("d-none",g),o.classList.toggle("w-100",!g)):(i.classList.toggle("hide",!g),o.classList.toggle("w-50",g),o.classList.toggle("w-100",!g),localStorage.setItem("composer:previewToggled",g)),f.classList.toggle("hide",g),t.classList.toggle("hide",!g),g&&d.render(c),d.matchScroll(c)}d.toggle=p,s.addEventListener("click",g=>{g.button===0&&(a=!a,p(a))}),p(a)},d}.apply(D,C),S!==void 0&&(w.exports=S)},70968:(w,D,u)=>{var C,S;C=[u,D,u(32230),u(59006),u(99398),u(75203),u(40646)],S=function(x,d,c,l,r,s,f){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.toggleForInsert=d.toggle=d.init=d.dialogActions=void 0;var t=$("html");d.dialogActions={open:function(m){return t.addClass("emoji-insert"),m.addClass("open"),m.appendTo(document.fullscreenElement||"body"),m.find(".emoji-dialog-search").focus(),setTimeout(function(){$(document).off("click",e).on("click",e)},0),m},close:function(m){return $(document).off("click",e),t.removeClass("emoji-insert"),m.removeClass("open")}};function e(m){var v=$("#emoji-dialog");!$(m.target).is(".emoji-dialog *")&&v.length&&d.dialogActions.close(v)}var n={people:10,nature:9,food:8,activity:7,travel:6,objects:5,symbols:4,flags:3,regional:2,modifier:1,other:0};config.emojiCustomFirst&&(n.custom=100);var a=c.Translator.create();function i(m,v){return m<v?-1:m>v?1:0}function o(m){Promise.all([$.getJSON("".concat(f.base,"/emoji/categories.json?").concat(f.buster)),$.getJSON("".concat(f.base,"/emoji/packs.json?").concat(f.buster)),new Promise(function(v){(0,f.init)(v)})]).then(function(v){var R=v[0],P=v[1],y=Object.keys(R).map(function(E){var A=R[E].map(function(h){return f.table[h]});return{name:E,emojis:A.map(function(h){return{name:h.name,html:(0,f.buildEmoji)(h,!0)}}).sort(function(h,b){return i(h.name,b.name)})}}).sort(function(E,A){var h=n[E.name]||0,b=n[A.name]||0;return b-h});return(0,l.render)("partials/emoji-dialog",{categories:y,packs:P})}).then(function(v){return a.translate(v)}).then(function(v){var R=$(v).appendTo(document.fullscreenElement||"body");R.find(".emoji-dialog-search").on("input",function(h){var b=h.target.value;if(!b){R.find(".emoji-dialog-search-results").addClass("hidden"),R.find(".nav-tabs .emoji-dialog-search-results").next().find("a").tab("show");return}var T=(0,f.search)(b).slice(0,100).map(function(I){return'<a class="emoji-link" name="'.concat(I.name,'" href="#">').concat((0,f.buildEmoji)(I,!1),"</a>")}).join(`
`);R.find(".tab-pane.emoji-dialog-search-results").html(T),R.find(".emoji-dialog-search-results").removeClass("hidden"),R.find(".nav-tabs .emoji-dialog-search-results a").tab("show"),R.find(".emoji-dialog-search").focus()});var P=R.find(".emoji-tabs .tab-content");function y(h){var b=P[0].getBoundingClientRect(),T=Math.ceil(b.width*b.height/(40*40));h.find(".emoji-link img.defer").filter(function(I,j){if(I<=T)return!0;var B=j.getBoundingClientRect();return B.right>b.left&&B.left<b.right&&B.bottom>b.top&&B.top<b.bottom}).removeClass("defer").each(function(I,j){var B=j.getAttribute("data-src");j.setAttribute("src",B)})}var E=R.find(".emoji-tabs .nav-tabs a").click(function(h){h.preventDefault(),$(h.target).tab("show")}).on("show.bs.tab",function(h){y($(h.target.getAttribute("href")))}).eq(1);setTimeout(function(){return E.trigger("show.bs.tab")},10),P.on("scroll",function(){y(P.find(".tab-pane.active"))}),(0,s.apply)(P[0]);var A=function(){return d.dialogActions.close(R)};$(window).on(["action:composer.discard","action:composer.submit","action:composer.minimize","action:chat.minimize","action:chat.closed"].join(" "),A),R.find(".close").on("click",A),m(R)}).catch(function(v){console.error("Failed to initialize emoji dialog",v)})}d.init=o;function p(m,v){function R(y){if(y.hasClass("open")){d.dialogActions.close(y);return}y.off("click").on("click",".emoji-link",function(h){h.preventDefault();var b=h.currentTarget.name;v(h,b,y)});var E=m?m.getBoundingClientRect():{top:window.innerHeight/3,left:window.innerWidth/3},A={bottom:"auto",top:"auto",right:"auto",left:"auto"};E.top>440?A.top="".concat(E.top-400,"px"):A.top="".concat(E.top+40,"px"),E.left<window.innerWidth/2?A.left="".concat(E.left+40,"px"):A.left="".concat(E.left-400,"px"),y.css(A),d.dialogActions.open(y)}var P=$("#emoji-dialog");P.length?R(P):o(R)}d.toggle=p;function g(m,v,R,P){var y;P&&P.target?y=$(P.target):y=$(m).parents(".composer-container").find('[data-format="emoji-add-emoji"]'),y=y[0],p(y,function(E,A){var h=":".concat(A,": "),b=m.selectionStart,T=m.selectionEnd,I=T+h.length,j=b===T?I:b;(0,r.insertIntoTextarea)(m,h),(0,r.updateTextareaSelection)(m,j,I),$(m).trigger("input")})}d.toggleForInsert=g}.apply(D,C),S!==void 0&&(w.exports=S)},82938:function(w,D,u){var C,S,x=this&&this.__awaiter||function(c,l,r,s){function f(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(t,e){function n(o){try{i(s.next(o))}catch(p){e(p)}}function a(o){try{i(s.throw(o))}catch(p){e(p)}}function i(o){o.done?t(o.value):f(o.value).then(n,a)}i((s=s.apply(c,l||[])).next())})},d=this&&this.__generator||function(c,l){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},s,f,t,e;return e={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e;function n(i){return function(o){return a([i,o])}}function a(i){if(s)throw new TypeError("Generator is already executing.");for(;e&&(e=0,i[0]&&(r=0)),r;)try{if(s=1,f&&(t=i[0]&2?f.return:i[0]?f.throw||((t=f.return)&&t.call(f),0):f.next)&&!(t=t.call(f,i[1])).done)return t;switch(f=0,t&&(i=[i[0]&2,t.value]),i[0]){case 0:case 1:t=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,f=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(i[0]===6||i[0]===2)){r=0;continue}if(i[0]===3&&(!t||i[1]>t[0]&&i[1]<t[3])){r.label=i[1];break}if(i[0]===6&&r.label<t[1]){r.label=t[1],t=i;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(i);break}t[2]&&r.ops.pop(),r.trys.pop();continue}i=l.call(c,r)}catch(o){i=[6,o],f=0}finally{s=t=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};C=[u,D],S=function(c,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.init=l.strategy=l.search=l.table=l.buildEmoji=l.buster=l.base=void 0;var r="".concat(config.assetBaseUrl,"/plugins/nodebb-plugin-emoji");l.base=r;var s=config["cache-buster"];l.buster=s;function f(n,a){var i=":".concat(n.name,":"),o=a?" defer":"";return n.image?`<img
      `.concat(a?"data-":"",'src="').concat(r,"/emoji/").concat(n.pack,"/").concat(n.image,"?").concat(s,`"
      class="not-responsive emoji emoji-`).concat(n.pack," emoji--").concat(n.name," ").concat(o,`"
      title="`).concat(i,`"
      alt="`).concat(n.character,`"
    />`):`<span
    class="emoji-`.concat(n.pack," emoji--").concat(n.name,`"
    title="`).concat(i,`"
  ><span>`).concat(n.character,"</span></span>")}l.buildEmoji=f,l.strategy={match:/\B:([^\s\n:]+)$/,search:function(n,a){a((0,l.search)(n.toLowerCase().replace(/[_-]/g,"")).slice(0,10))},index:1,replace:function(n){return":".concat(n.name,": ")},template:function(n){return"".concat(f(n)," ").concat(n.name)},cache:!0};var t;function e(n){var a=this;return t=t||Promise.all([new Promise(function(i,o){u.e(12645).then(function(){var p=[u(91919)];i.apply(null,p)}.bind(this)).catch(o.bind(this))}),new Promise(function(i,o){u.e(320).then(function(){var p=[u(78726)];i.apply(null,p)}.bind(this)).catch(o.bind(this))}),new Promise(function(i,o){Promise.all([u.e(66177),u.e(62526),u.e(588)]).then(function(){var p=[u(45482)];i.apply(null,p)}.bind(this)).catch(o.bind(this))}),$.getJSON("".concat(r,"/emoji/table.json?").concat(s))]).then(function(i){var o=i[0],p=i[1],g=i[2],m=i[3];l.table=m;var v=Object.keys(l.table).map(function(y){var E=l.table[y];return{name:y,aliases:E.aliases,keywords:E.keywords,character:E.character,image:E.image,pack:E.pack}});function R(y,E){for(var A=E.length,h=0;h<A;h+=1)if(o(y,E[h]))return E[h];return null}function P(y){function E(A,h){var b=h*(1+p(y,A));return A.startsWith(y)?b-2:b}return v.filter(function(A){if(o(y,A.name))return A.score=E(A.name,1),!0;var h=R(y,A.aliases);if(h)return A.score=E(h,3),!0;var b=R(y,A.keywords);return b?(A.score=E(b,7),!0):!1}).sort(function(A,h){return A.score-h.score}).sort(function(A,h){var b=+A.name.startsWith(y),T=+h.name.startsWith(y);return T-b})}l.search=P,g.addButtonDispatch("emoji-add-emoji",function(y,E,A,h){new Promise(function(b,T){u.e(6721).then(function(){var I=[u(6721)];b.apply(null,I)}.bind(this)).catch(T.bind(this))}).then(function(b){var T=b.toggleForInsert;return T(y,E,A,h)})})}).catch(function(i){return x(a,void 0,void 0,function(){var o,p;return d(this,function(g){switch(g.label){case 0:return o=Error("[[emoji:meta-load-failed]]"),console.error(o),[4,app.require("alerts")];case 1:throw p=g.sent(),p.error(o),i}})})}),n&&t.then(function(){return setTimeout(n,0)}),t}l.init=e}.apply(D,C),S!==void 0&&(w.exports=S)}}]);
