(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[30684,70565,83014,99617,74344],{33302:(c,l,r)=>{c.exports=r(23560)},74344:(c,l,r)=>{"use strict";r.r(l),r.d(l,{del:()=>E,get:()=>p,head:()=>O,patch:()=>m,post:()=>k,put:()=>y});var i=r(85233),x=r.n(i),h=r(63281),P=r.n(h);const _=config.relative_path+"/api/v3";function s(e,t){if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:_+e.url,typeof t=="function"){g(e,t);return}return new Promise((n,u)=>{g(e,function(o,d){if(o)return o.message==="A valid login session was not found. Please log in and try again."?(0,h.confirm)("[[error:api.reauth-required]]",f=>{f&&ajaxify.go("login")}):u(o);n(d)})})}async function g(e,t){const{url:n}=e;delete e.url,e.data&&!(e.data instanceof FormData)&&(e.data=JSON.stringify(e.data||{}),e.headers["content-type"]="application/json; charset=utf-8"),{options:e}=await(0,i.fire)("filter:api.options",{options:e}),e.data&&(e.body=e.data,delete e.data);const u=await fetch(n,e),{headers:o}=u,d=o.get("content-type"),f=d&&d.startsWith("application/json");let a;if(f?a=await u.json():a=await u.text(),!u.ok)return t(new Error(f?a.status.message:a));t(null,f&&a.hasOwnProperty("status")&&a.hasOwnProperty("response")?a.response:a)}function p(e,t,n){return s({url:e+(t&&Object.keys(t).length?"?"+$.param(t):"")},n)}function O(e,t,n){return s({url:e+(t&&Object.keys(t).length?"?"+$.param(t):""),method:"head"},n)}function k(e,t,n){return s({url:e,method:"post",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function m(e,t,n){return s({url:e,method:"patch",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function y(e,t,n){return s({url:e,method:"put",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function E(e,t,n){return s({url:e,method:"delete",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}},40646:(c,l,r)=>{c.exports=r(82938)}}]);
