"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[21710,70565,83014,99617,74344],{997:(p,h,a)=>{var i,_;i=[a(74344),a(63281),a(7927)],_=function(g,A,E){const r={};r.account=function(c,u){s(c,"[[user:delete_this_account_confirm]]","/account","[[user:account-deleted]]",u)},r.content=function(c,u){s(c,"[[user:delete_account_content_confirm]]","/content","[[user:account-content-deleted]]",u)},r.purge=function(c,u){s(c,"[[user:delete_all_confirm]]","","[[user:account-deleted]]",u)};function s(c,u,D,O,m){A.confirm(u,function(P){P&&g.del(`/users/${c}${D}`,{}).then(()=>{if(E.success(O),typeof m=="function")return m()}).catch(E.error)})}return r}.apply(h,i),_!==void 0&&(p.exports=_)},74344:(p,h,a)=>{a.r(h),a.d(h,{del:()=>P,get:()=>c,head:()=>u,patch:()=>O,post:()=>D,put:()=>m});var i=a(85233),_=a.n(i),g=a(63281),A=a.n(g);const E=config.relative_path+"/api/v3";function r(e,t){if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:E+e.url,typeof t=="function"){s(e,t);return}return new Promise((n,f)=>{s(e,function(l,y){if(l)return l.message==="A valid login session was not found. Please log in and try again."?(0,g.confirm)("[[error:api.reauth-required]]",d=>{d&&ajaxify.go("login")}):f(l);n(y)})})}async function s(e,t){const{url:n}=e;delete e.url,e.data&&!(e.data instanceof FormData)&&(e.data=JSON.stringify(e.data||{}),e.headers["content-type"]="application/json; charset=utf-8"),{options:e}=await(0,i.fire)("filter:api.options",{options:e}),e.data&&(e.body=e.data,delete e.data);const f=await fetch(n,e),{headers:l}=f,y=l.get("content-type"),d=y&&y.startsWith("application/json");let o;if(d?o=await f.json():o=await f.text(),!f.ok)return t(new Error(d?o.status.message:o));t(null,d&&o.hasOwnProperty("status")&&o.hasOwnProperty("response")?o.response:o)}function c(e,t,n){return r({url:e+(t&&Object.keys(t).length?"?"+$.param(t):"")},n)}function u(e,t,n){return r({url:e+(t&&Object.keys(t).length?"?"+$.param(t):""),method:"head"},n)}function D(e,t,n){return r({url:e,method:"post",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function O(e,t,n){return r({url:e,method:"patch",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function m(e,t,n){return r({url:e,method:"put",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function P(e,t,n){return r({url:e,method:"delete",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}}}]);
