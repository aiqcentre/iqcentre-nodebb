"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[83014,70565,99617,74344],{74344:(p,l,a)=>{a.r(l),a.d(l,{del:()=>k,get:()=>O,head:()=>m,patch:()=>E,post:()=>y,put:()=>P});var i=a(85233),_=a.n(i),d=a(63281),D=a.n(d);const g=config.relative_path+"/api/v3";function s(e,t){if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:g+e.url,typeof t=="function"){h(e,t);return}return new Promise((n,u)=>{h(e,function(f,c){if(f)return f.message==="A valid login session was not found. Please log in and try again."?(0,d.confirm)("[[error:api.reauth-required]]",o=>{o&&ajaxify.go("login")}):u(f);n(c)})})}async function h(e,t){const{url:n}=e;delete e.url,e.data&&!(e.data instanceof FormData)&&(e.data=JSON.stringify(e.data||{}),e.headers["content-type"]="application/json; charset=utf-8"),{options:e}=await(0,i.fire)("filter:api.options",{options:e}),e.data&&(e.body=e.data,delete e.data);const u=await fetch(n,e),{headers:f}=u,c=f.get("content-type"),o=c&&c.startsWith("application/json");let r;if(o?r=await u.json():r=await u.text(),!u.ok)return t(new Error(o?r.status.message:r));t(null,o&&r.hasOwnProperty("status")&&r.hasOwnProperty("response")?r.response:r)}function O(e,t,n){return s({url:e+(t&&Object.keys(t).length?"?"+$.param(t):"")},n)}function m(e,t,n){return s({url:e+(t&&Object.keys(t).length?"?"+$.param(t):""),method:"head"},n)}function y(e,t,n){return s({url:e,method:"post",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function E(e,t,n){return s({url:e,method:"patch",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function P(e,t,n){return s({url:e,method:"put",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}function k(e,t,n){return s({url:e,method:"delete",data:t,headers:{"x-csrf-token":config.csrf_token}},n)}}}]);
