(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[97931,70565,83014,66623,49286,99617,34677,62735,43034,54625,74344],{74344:(E,D,f)=>{"use strict";f.r(D),f.d(D,{del:()=>s,get:()=>a,head:()=>c,patch:()=>e,post:()=>d,put:()=>i});var b=f(85233),y=f.n(b),C=f(63281),h=f.n(C);const n=config.relative_path+"/api/v3";function r(t,l){if(t.url=t.url.startsWith("/api")?config.relative_path+t.url:n+t.url,typeof l=="function"){o(t,l);return}return new Promise((g,v)=>{o(t,function(S,u){if(S)return S.message==="A valid login session was not found. Please log in and try again."?(0,C.confirm)("[[error:api.reauth-required]]",m=>{m&&ajaxify.go("login")}):v(S);g(u)})})}async function o(t,l){const{url:g}=t;delete t.url,t.data&&!(t.data instanceof FormData)&&(t.data=JSON.stringify(t.data||{}),t.headers["content-type"]="application/json; charset=utf-8"),{options:t}=await(0,b.fire)("filter:api.options",{options:t}),t.data&&(t.body=t.data,delete t.data);const v=await fetch(g,t),{headers:S}=v,u=S.get("content-type"),m=u&&u.startsWith("application/json");let p;if(m?p=await v.json():p=await v.text(),!v.ok)return l(new Error(m?p.status.message:p));l(null,m&&p.hasOwnProperty("status")&&p.hasOwnProperty("response")?p.response:p)}function a(t,l,g){return r({url:t+(l&&Object.keys(l).length?"?"+$.param(l):"")},g)}function c(t,l,g){return r({url:t+(l&&Object.keys(l).length?"?"+$.param(l):""),method:"head"},g)}function d(t,l,g){return r({url:t,method:"post",data:l,headers:{"x-csrf-token":config.csrf_token}},g)}function e(t,l,g){return r({url:t,method:"patch",data:l,headers:{"x-csrf-token":config.csrf_token}},g)}function i(t,l,g){return r({url:t,method:"put",data:l,headers:{"x-csrf-token":config.csrf_token}},g)}function s(t,l,g){return r({url:t,method:"delete",data:l,headers:{"x-csrf-token":config.csrf_token}},g)}},22905:(E,D,f)=>{"use strict";var b,y;b=[f(7927),f(73138)],y=function(C,h){const n={};return n.init=function(r,o){let a=null;o=o||{},o.privilege=o.privilege||"topics:read",o.states=o.states||["watching","notwatching","ignoring"],o.cacheList=o.hasOwnProperty("cacheList")?o.cacheList:!0;let c=[];Array.isArray(o.localCategories)&&(c=o.localCategories.map(t=>({...t}))),o.selectedCids=o.selectedCids||ajaxify.data.selectedCids||[];const d=r.find('[component="category-selector-search"]');if(!d.length)return;const e=d.parent('[component="category/dropdown"]').length>0||d.parent('[component="category-selector"]').length>0;r.on("show.bs.dropdown",function(){e&&(r.find(".dropdown-toggle").css({visibility:"hidden"}),d.removeClass("hidden"),d.css({"z-index":r.find(".dropdown-toggle").css("z-index")+1}));function t(){const l=d.find("input").val();l.length>1||!l&&!a?i(l,function(g){a=o.cacheList&&(a||g),s(g)}):!l&&a&&s(a)}d.on("click",function(l){l.preventDefault(),l.stopPropagation()}),d.find("input").val("").on("keyup",utils.debounce(t,300)),t()}),r.on("shown.bs.dropdown",function(){["xs","sm"].includes(utils.findBootstrapEnvironment())||d.find("input").focus()}),r.on("hide.bs.dropdown",function(){e&&(r.find(".dropdown-toggle").css({visibility:"inherit"}),d.addClass("hidden")),d.off("click"),d.find("input").off("keyup")});function i(t,l){socket.emit("categories.categorySearch",{search:t,query:utils.params(),parentCid:o.parentCid||0,selectedCids:o.selectedCids,privilege:o.privilege,states:o.states,showLinks:o.showLinks},function(g,v){if(g)return C.error(g);l(c.concat(v))})}function s(t){const l=o.selectedCids.map(String);t.forEach(function(g){g.selected=l.includes(String(g.cid))}),app.parseAndTranslate(o.template,{categoryItems:t.slice(0,200),selectedCategory:ajaxify.data.selectedCategory,allCategoriesUrl:ajaxify.data.allCategoriesUrl},function(g){r.find('[component="category/list"]').html(g.find('[component="category/list"]').html()),r.find('[component="category/list"] [component="category/no-matches"]').toggleClass("hidden",!!t.length);const v=h.Dropdown.getInstance(r.find(".dropdown-toggle").get(0));v&&v.update()})}},n}.apply(D,b),y!==void 0&&(E.exports=y)},50548:(E,D,f)=>{"use strict";var b,y;b=[f(22905),f(63281),f(85233),f(32230)],y=function(C,h,n,r){const o={};return o.init=function(a,c){if(!a||!a.length)return;c=c||{};const d=c.onSelect||function(){};c.states=c.states||["watching","notwatching","ignoring"],c.template=c.template||"partials/category/selector-dropdown-left",n.fire("action:category.selector.options",{el:a,options:c}),C.init(a,c);const e={el:a,selectedCategory:null};a.on("click","[data-cid]",function(){const s=$(this);return s.hasClass("disabled")?!1:(e.selectCategory(s.attr("data-cid")),d(e.selectedCategory))});let i=e.el.find('[component="category-selector-selected"]').html();return r.translate(i,s=>{i=s}),e.selectCategory=function(s){const t=e.el.find('[data-cid="'+s+'"]');e.selectedCategory={cid:s,name:t.attr("data-name")},t.length?e.el.find('[component="category-selector-selected"]').html(t.find('[component="category-markup"]').html()):e.el.find('[component="category-selector-selected"]').html(i)},e.getSelectedCategory=function(){return e.selectedCategory},e.getSelectedCid=function(){return e.selectedCategory?e.selectedCategory.cid:0},c.hasOwnProperty("selectedCategory")&&app.parseAndTranslate(c.template,{selectedCategory:c.selectedCategory},function(s){e.el.find('[component="category-selector-selected"]').html(s.find('[component="category-selector-selected"]').html())}),e},o.modal=function(a){a=a||{},a.onSelect=a.onSelect||function(){},a.onSubmit=a.onSubmit||function(){},app.parseAndTranslate("admin/partials/categories/select-category",{message:a.message},function(c){const d=h.dialog({title:a.title||"[[modules:composer.select_category]]",message:c,buttons:{save:{label:"[[global:select]]",className:"btn-primary",callback:i}}}),e=o.init(d.find('[component="category-selector"]'),a);function i(s){return s.preventDefault(),e.selectedCategory&&(a.onSubmit(e.selectedCategory),d.modal("hide")),!1}a.openOnLoad&&d.on("shown.bs.modal",function(){d.find(".dropdown-toggle").dropdown("toggle")}),d.find("form").on("submit",i)})},o}.apply(D,b),y!==void 0&&(E.exports=y)},98755:(E,D,f)=>{E.exports=f(77678)},83713:(E,D,f)=>{E.exports=f(51077)},22143:(E,D,f)=>{E.exports=f(77070)},27145:(E,D,f)=>{"use strict";E=f.nmd(E);var b,y;b=[f(32230),f(85233)],y=function(C,h){const n={};let r=!1;n.init=function(){if(n.taskbar=$('[component="taskbar"]'),n.tasklist=n.taskbar.find("ul"),!n.taskbar.length||!n.tasklist.length){r=!0;return}n.taskbar.on("click","li",async function(){const e=$(this),i=e.attr("data-module"),s=e.attr("data-uuid"),t=await app.require(i);return e.hasClass("active")?t.minimize(s):(a(),t.load(s),n.toggleNew(s,!1),n.tasklist.removeClass("active"),e.addClass("active")),!1}),$(window).on("action:app.loggedOut",function(){n.closeAll()})},n.close=async function(e,i){if(r)return;if(n.tasklist.find('[data-module="'+E+'"][data-uuid="'+i+'"]').length){const t=await app.require(e);t&&typeof t.close=="function"&&t.close(i)}},n.closeAll=function(e){if(r)return;let i="[data-uuid]";e&&(i='[data-module="'+e+'"]'+i),n.tasklist.find(i).each(function(s,t){n.close(e||t.getAttribute("data-module"),t.getAttribute("data-uuid"))})},n.discard=function(e,i){if(r)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]').remove(),o()},n.push=function(e,i,s,t){if(t=t||function(){},r)return t();const l=n.tasklist.find('li[data-uuid="'+i+'"]'),g={module:e,uuid:i,options:s,element:l};h.fire("filter:taskbar.push",g),!l.length&&g.module?c(g,t):t(l)},n.get=function(e){return r?[]:$('[data-module="'+e+'"]').map(function(s,t){return $(t).data()})},n.minimize=function(e,i){if(r)return;n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]').toggleClass("active",!1)},n.toggleNew=function(e,i,s){if(r)return;n.tasklist.find('[data-uuid="'+e+'"]').toggleClass("new",i),s||h.fire("action:taskbar.toggleNew",e)},n.updateActive=function(e){if(r)return;const i=n.tasklist.find("li");i.removeClass("active"),i.filter('[data-uuid="'+e+'"]').addClass("active"),$("[data-uuid]:not([data-module])").toggleClass("modal-unfocused",!0),$('[data-uuid="'+e+'"]:not([data-module])').toggleClass("modal-unfocused",!1)},n.isActive=function(e){return r?!1:n.tasklist.find('li[data-uuid="'+e+'"]').hasClass("active")};function o(){if(r)return;n.tasklist.find("li").length>0?n.taskbar.attr("data-active","1"):n.taskbar.removeAttr("data-active")}function a(){r||n.tasklist.find(".active").removeClass("active")}function c(e,i){if(r)return i();C.translate(e.options.title,function(s){const t=$("<div></div>").text(s||"NodeBB Task").html(),l=$("<li></li>").addClass(e.options.className).html('<a href="#"'+(e.options.image?` style="background-image: url('`+e.options.image.replace(/&#x2F;/g,"/")+`'); background-size: cover;"`:"")+">"+(e.options.icon?'<i class="fa '+e.options.icon+'"></i> ':"")+'<span aria-label="'+t+'" component="taskbar/title">'+t+"</span></a>").attr({title:t,"data-module":e.module,"data-uuid":e.uuid}).addClass(e.options.state!==void 0?e.options.state:"active");(!e.options.state||e.options.state==="active")&&a(),n.tasklist.append(l),o(),e.element=l,l.data(e),h.fire("action:taskbar.pushed",e),i(l)})}const d=function(e,i,s){switch(i){case"title":e.find('[component="taskbar/title"]').text(s);break;case"icon":e.find("i").attr("class","fa fa-"+s);break;case"image":e.find("a").css("background-image",s?'url("'+s.replace(/&#x2F;/g,"/")+'")':"");break;case"background-color":e.find("a").css("background-color",s);break;case"color":e.find("a").css("color",s);break}};return n.update=function(e,i,s){if(r)return;const t=n.tasklist.find('[data-module="'+e+'"][data-uuid="'+i+'"]');if(!t.length)return;const l=t.data();Object.keys(s).forEach(function(g){l[g]=s[g],d(t,g,s[g])}),t.data(l)},n}.apply(D,b),y!==void 0&&(E.exports=y)},33371:(E,D,f)=>{"use strict";var b,y;b=[f(7927)],y=function(C){const h={};return h.init=function(n){const r=n.uploadFormEl;if(r.length&&(r.attr("action",config.relative_path+n.route),n.dragDropAreaEl&&h.handleDragDrop({container:n.dragDropAreaEl,callback:function(o){h.ajaxSubmit({uploadForm:r,upload:o,callback:n.callback})}}),n.pasteEl&&h.handlePaste({container:n.pasteEl,callback:function(o){h.ajaxSubmit({uploadForm:r,upload:o,callback:n.callback})}}),n.uploadBtnEl)){const o=r.find('input[name="files[]"]');n.uploadBtnEl.on("click",function(){o.trigger("click")}),o.on("change",function(a){const c=(a.target||{}).files||($(this).val()?[{name:$(this).val(),type:utils.fileMimeType($(this).val())}]:null);c&&h.ajaxSubmit({uploadForm:r,upload:{files:c,fileNames:Array.from(c).map(d=>d.name)},callback:n.callback})})}},h.handleDragDrop=function(n){let r=!1;const o=n.container,a=n.container.find(".imagedrop");o.on("dragenter",function(){r||(a.css("top","0px"),a.css("height",o.height()+"px"),a.css("line-height",o.height()+"px"),a.show(),a.on("dragleave",function(){a.hide(),a.off("dragleave")}))}),a.on("drop",function(e){e.preventDefault();const i=e.originalEvent.dataTransfer.files;if(i.length){let t;if(window.FormData){t=new FormData;for(var s=0;s<i.length;++s)t.append("files[]",i[s],i[s].name)}n.callback({files:i,formData:t})}return a.hide(),!1});function c(d){return d.preventDefault(),!1}$(document).off("dragstart").on("dragstart",function(){r=!0}).off("dragend").on("dragend, mouseup",function(){r=!1}),a.on("dragover",c),a.on("dragenter",c)},h.handlePaste=function(n){n.container.on("paste",function(o){const a=(o.clipboardData||o.originalEvent.clipboardData||{}).items,c=[],d=[];let e=null;window.FormData&&(e=new FormData),[].forEach.call(a,function(i){const s=i.getAsFile();if(s){const t=utils.generateUUID()+"-"+s.name;e&&e.append("files[]",s,t),c.push(s),d.push(t)}}),c.length&&n.callback({files:c,fileNames:d,formData:e})})},h.ajaxSubmit=function(n){const r=[...n.upload.files];for(let a=0;a<r.length;++a){const c=r[a].type.match(/image./);if(c&&!app.user.privileges["upload:post:image"]||!c&&!app.user.privileges["upload:post:file"])return C.error("[[error:no-privileges]]");if(!app.user.isAdmin&&r[a].size>parseInt(config.maximumFileSize,10)*1024)return n.uploadForm[0].reset(),C.error("[[error:file-too-big, "+config.maximumFileSize+"]]")}const o=Date.now();n.uploadForm.off("submit").on("submit",function(){return $(this).ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},resetForm:!0,clearForm:!0,formData:n.upload.formData,error:function(a){let c=a.responseJSON&&(a.responseJSON.error||a.responseJSON.status&&a.responseJSON.status.message)||"[[error:parse-error]]";a&&a.status===413&&(c=a.statusText||"Request Entity Too Large"),C.error(c),C.remove(o)},uploadProgress:function(a,c,d,e){C.alert({alert_id:o,message:"[[modules:composer.uploading, "+e+"%]]"})},success:function(a){const c=a.response.images;if(c&&c.length)for(var d=0;d<c.length;++d)c[d].filename=r[d].name,c[d].isImage=/image./.test(r[d].type);n.callback(c)},complete:function(){n.uploadForm[0].reset(),setTimeout(C.remove,100,o)}}),!1}),n.uploadForm.submit()},h}.apply(D,b),y!==void 0&&(E.exports=y)},77678:(E,D,f)=>{"use strict";var b,y;b=[f(50548),f(27145),f(74344)],y=function(C,h,n){var r={},o;r.init=function(e,i){var s=e.find(".category-list-container");s.length&&(e.on("action:composer.resize",function(){a(e)}),r.updateTaskbar(e,i),o=C.init(s.find('[component="category-selector"]'),{privilege:"topics:create",states:["watching","notwatching","ignoring"],onSelect:function(t){i.hasOwnProperty("cid")&&d(e,i,t)}}),o&&(i.cid&&i.category?o.selectedCategory={cid:i.cid,name:i.category.name}:ajaxify.data.template.compose&&ajaxify.data.selectedCategory&&(o.selectedCategory={cid:ajaxify.data.cid,name:ajaxify.data.selectedCategory}),e.find(".category-name").translateText(o.selectedCategory?o.selectedCategory.name:"[[modules:composer.select_category]]").on("click",function(){C.modal({privilege:"topics:create",states:["watching","notwatching","ignoring"],openOnLoad:!0,showLinks:!1,onSubmit:function(t){e.find(".category-name").text(t.name),o.selectCategory(t.cid),i.hasOwnProperty("cid")&&d(e,i,t)}})}),a(e)))};function a(e){e.find('.category-list-container [component="category-selector"]').toggleClass("dropup",e.outerHeight()<$(window).height()/2)}r.getSelectedCid=function(){var e;return o&&(e=o.getSelectedCategory()),e?e.cid:0},r.updateTaskbar=function(e,i){parseInt(i.cid,10)&&n.get(`/categories/${i.cid}`,{}).then(function(s){c(e,s)})};function c(e,i){if(i){var s=e.attr("data-uuid");h.update("composer",s,{image:i.backgroundImage,color:i.color,"background-color":i.bgColor,icon:i.icon&&i.icon.slice(3)})}}async function d(e,i,s){i.cid=s.cid;const t=await window.fetch(`${config.relative_path}/api/category/${s.cid}`).then(l=>l.json());i.category=t,c(e,t),f.e(3913).then(function(){var l=[f(98166),f(88186)];(function(g,v){g.onChangeCategory(t),v.onChangeCategory(e,i,s.cid,t),$(window).trigger("action:composer.changeCategory",{postContainer:e,postData:i,selectedCategory:s,categoryData:t})}).apply(null,l)}).catch(f.oe)}return r}.apply(D,b),y!==void 0&&(E.exports=y)},51077:(E,D,f)=>{"use strict";var b,y;b=[f(85233)],y=function(C){var h={};return h.render=function(n,r){if(r=r||function(){},!n.find(".preview-container").is(":visible"))return r();var o=n.find("textarea");socket.emit("plugins.composer.renderPreview",o.val(),function(a,c){a||(c=$("<div>"+c+"</div>"),c.find("img:not(.not-responsive)").addClass("img-fluid"),n.find(".preview").html(c),C.fire("action:composer.preview",{postContainer:n,preview:c}),r())})},h.matchScroll=function(n){if(n.find(".preview-container").is(":visible")){var r=n.find("textarea"),o=n.find(".preview");if(r.length&&o.length){var a=r[0].scrollHeight-r.height();if(a===0)return;var c=r.scrollTop()/a;o.scrollTop(Math.max(o[0].scrollHeight-o.height(),0)*c)}}},h.handleToggler=function(n){const r=n.get(0);h.env=utils.findBootstrapEnvironment();const o=["xs","sm"].includes(h.env),a=r.querySelector('.formatting-bar [data-action="preview"]'),c=a.querySelector(".show-text"),d=a.querySelector(".hide-text"),e=localStorage.getItem("composer:previewToggled"),i=config["composer-default"].hidePreviewOnOpen==="on";let s=!o&&(e===null&&!i||e);const t=r.querySelector(".preview-container"),l=r.querySelector(".write-container");if(!a)return;function g(v){o?(t.classList.toggle("hide",!1),l.classList.toggle("maximized",!1),t.classList.toggle("d-none",!v),t.classList.toggle("d-flex",v),t.classList.toggle("w-100",v),l.classList.toggle("d-flex",!v),l.classList.toggle("d-none",v),l.classList.toggle("w-100",!v)):(t.classList.toggle("hide",!v),l.classList.toggle("w-50",v),l.classList.toggle("w-100",!v),localStorage.setItem("composer:previewToggled",v)),c.classList.toggle("hide",v),d.classList.toggle("hide",!v),v&&h.render(n),h.matchScroll(n)}h.toggle=g,a.addEventListener("click",v=>{v.button===0&&(s=!s,g(s))}),g(s)},h}.apply(D,b),y!==void 0&&(E.exports=y)},77070:(E,D,f)=>{"use strict";var b,y;b=[f(83713),f(98755),f(32230),f(7927),f(33371),f(86569)],y=function(C,h,n,r,o){var a={inProgress:{}},c="";a.initialize=function(u){s(u),t(u),d(u),e(u),n.translate("[[modules:composer.uploading, 0%]]",function(m){c=m})};function d(u){var m=$('.composer[data-uuid="'+u+'"]');m.find("#files").on("change",function(p){var A=(p.target||{}).files||($(this).val()?[{name:$(this).val(),type:utils.fileMimeType($(this).val())}]:null);A&&v({files:A,post_uuid:u,route:"/api/post/upload"})})}function e(u){var m=$('.composer[data-uuid="'+u+'"]');m.on("click",".topic-thumb-clear-btn",function(p){m.find("input#topic-thumb-url").val("").trigger("change"),i(m.find("input#topic-thumb-file")),$(this).addClass("hide"),p.preventDefault()}),m.on("paste change keypress","input#topic-thumb-url",function(){var p=$(this);setTimeout(function(){var A=p.val();A?m.find(".topic-thumb-clear-btn").removeClass("hide"):(i(m.find("input#topic-thumb-file")),m.find(".topic-thumb-clear-btn").addClass("hide")),m.find("img.topic-thumb-preview").attr("src",A)},100)})}function i(u){u.wrap("<form />").closest("form").get(0).reset(),u.unwrap()}function s(u){var m=$('.composer[data-uuid="'+u+'"]');o.handleDragDrop({container:m,callback:function(p){v({files:p.files,post_uuid:u,route:"/api/post/upload",formData:p.formData})}})}function t(u){var m=$('.composer[data-uuid="'+u+'"]');o.handlePaste({container:m,callback:function(p){v({files:p.files,fileNames:p.fileNames,post_uuid:u,route:"/api/post/upload",formData:p.formData})}})}function l(u){return u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function g(u,m,p){return u.slice(0,m)+p+u.slice(m)}function v(u){var m=[...u.files],p=u.post_uuid,A=$('.composer[data-uuid="'+p+'"]'),P=A.find("textarea"),O=P.val(),F=A.find("#fileForm"),B=!1;F.attr("action",config.relative_path+u.route);var R=h.getSelectedCid();!R&&ajaxify.data.cid&&(R=ajaxify.data.cid);var w=0,L=!1;for(w=0;w<m.length;++w)if(L=m[w].type.match(/image./),L&&!app.user.privileges["upload:post:image"]||!L&&!app.user.privileges["upload:post:file"])return r.error("[[error:no-privileges]]");var T=[];let U="";for(w=0;w<m.length;++w){if(T.push(w+"_"+Date.now()+"_"+(u.fileNames?u.fileNames[w]:m[w].name)),L=m[w].type.match(/image./),!app.user.isAdmin&&m[w].size>parseInt(config.maximumFileSize,10)*1024)return F[0].reset(),r.error("[[error:file-too-big, "+config.maximumFileSize+"]]");U+=(L?"!":"")+"["+T[w]+"]("+c+") "}const W=P.getCursorPosition(),K=O.length;O=g(O,W,U),F.length&&A.find('[data-action="post"]').prop("disabled",!0),P.val(O),$(window).trigger("action:composer.uploadStart",{post_uuid:p,files:T.map(function(N,_){return{filename:N.replace(/^\d+_\d{13}_/,""),isImage:/image./.test(m[_].type)}}),text:c}),F.off("submit").submit(function(){function N(_,x,k){var M;k&&(M=_.replace(/^\d+_\d{13}_/,""));var j=P.val(),I=new RegExp(l(_)+"]\\([^)]+\\)","g");P.val(j.replace(I,(M||_)+"]("+x+")")),$(window).trigger("action:composer.uploadUpdate",{post_uuid:p,filename:_,text:x})}return a.inProgress[p]=a.inProgress[p]||[],a.inProgress[p].push(1),u.formData&&u.formData.append("cid",R),$(this).ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},resetForm:!0,clearForm:!0,formData:u.formData,data:{cid:R},error:function(_){B=!0,A.find('[data-action="post"]').prop("disabled",!1);const x=S(_,p);for(var k=0;k<m.length;++k)N(T[k],x,!0);C.render(A)},uploadProgress:function(_,x,k,M){n.translate("[[modules:composer.uploading, "+M+"%]]",function(j){if(!B)for(var I=0;I<m.length;++I)N(T[I],j)})},success:function(_){const x=_.response.images;if(B=!0,x&&x.length)for(var k=0;k<x.length;++k)x[k].filename=T[k].replace(/^\d+_\d{13}_/,""),x[k].isImage=/image./.test(m[k].type),N(T[k],x[k].url,!0);C.render(A),P.selectRange(W+P.val().length-K),A.find('[data-action="post"]').prop("disabled",!1),$(window).trigger("action:composer.upload",{post_uuid:p,files:x})},complete:function(){F[0].reset(),a.inProgress[p].pop()}}),!1}),F.submit()}function S(u,m){var p=u.responseJSON&&(u.responseJSON.error||u.responseJSON.status&&u.responseJSON.status.message)||"[[error:parse-error]]";return u&&u.status===413&&(p=u.statusText||"Request Entity Too Large"),r.error(p),$(window).trigger("action:composer.uploadError",{post_uuid:m,message:p}),p}return a}.apply(D,b),y!==void 0&&(E.exports=y)}}]);
